(()=>{"use strict";var e={2977:(e,t,s)=>{s.r(t)},7933:(e,t,s)=>{s.r(t)},4336:(e,t,s)=>{s.r(t)},3478:(e,t,s)=>{s.r(t)},8736:(e,t,s)=>{s.r(t)},2830:(e,t,s)=>{s.r(t)},4580:(e,t,s)=>{s.r(t)},7313:(e,t,s)=>{s.r(t)},3384:(e,t,s)=>{s.r(t)},4913:(e,t,s)=>{s.r(t)},8671:(e,t,s)=>{s.r(t)},5643:(e,t,s)=>{s.r(t)},9807:(e,t,s)=>{s.r(t)},2831:(e,t,s)=>{s.r(t)},6792:(e,t,s)=>{s.r(t)},3303:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.soundControl=void 0,s(2977);const a=s(500),n=s(915),o=s(1815);s(3218),a.state.initLocalStorage(),new n.App(document.body),t.soundControl=new o.SoundControl},2158:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t="div",s="",a=""){const n=document.createElement(t);n.className=s,n.textContent=a,e&&e.append(n),this.node=n}destroy(){this.node.remove()}}},3218:(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.correctTranslater=t.TRANSLATE=t.TList=void 0,(s=t.TList||(t.TList={})).header="header",s.moves="moves",s.time="time",s.collect="collect",s.results="results",s.settings="settings",t.TRANSLATE={header:{restart:"рестарт",stop:"стоп",results:"результаты",settings:"настройки"},moves:{Moves:"Шаги"},time:{Time:"Время"},collect:{collect_puzzle:"собрать пятнашки"},results:{Your_Highest_Scores:"Лучшие результаты"},settings:{theme:{ru:{title:"Тема",values:["Светлая","Тёмная"]},en:{title:"Theme",values:["Light","Dark"]}},animation:{ru:{title:"Анимация",values:["Вкл","Выкл"]},en:{title:"Animation",values:["On","Off"]}},language:{ru:{title:"Язык",values:["EN","Русский"]},en:{title:"Language",values:["EN","Русский"]}},sound:{ru:{title:"Звук",values:["Вкл","Выкл"]},en:{title:"Sound",values:["On","Off"]}},mode:{ru:{title:"Сложность",values:["Легко","Экстрим"]},en:{title:"Mode",values:["Default","Extreme"]}}}},t.correctTranslater=function(e,s){const a=[];return e?(a.push(...Object.keys(t.TRANSLATE[s])),(n=a).join("").includes("_")?n.map((e=>e.split("").map(((e,t,s)=>"_"===s[t+1]?e+" ":e)).filter((e=>"_"!==e)).join(""))):n):(a.push(...Object.values(t.TRANSLATE[s])),a);var n}},8109:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.lStorage=void 0,t.lStorage=new class{put(e,t){localStorage.setItem(`${e}`,JSON.stringify(t))}get(e){const t=localStorage.getItem(`${e}`);return null!==t?JSON.parse(t):null}remove(e){localStorage.removeItem(e)}}},3583:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.listeners=[]}add(e){this.listeners.push(e)}remove(e){this.listeners=this.listeners.filter((t=>t!==e))}emit(e){this.listeners.forEach((t=>t(e)))}}},8760:(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.StateOptions=void 0,(s=t.StateOptions||(t.StateOptions={})).newGame="new-game",s.setMove="set-move",s.moveCounter="move-counter",s.stopGame="stop-game",s.startGame="start-game",s.changeSize="change-size",s.winGame="win-game",s.collectPuzzle="collect-puzzle",s.shuffleStart="shuffle-start",s.shuffleStop="shuffle-stop",s.collectBtnOn="collect-btn-on",s.collectBtnOff="collect-btn-off",s.createPopup="create-popup",s.showCollectPopup="show-collect-popup",s.showFinishPopup="show-finish-popup",s.showResultPopup="show-result-popup",s.closePopup="close-popup",s.collectStartTimer="collect-start-timer",s.collectStopTimer="collect-stop-timer",s.setCollectMoves="collect-moves",s.stopBtnEnable="stop-btn-enable",s.stopBtnDisable="stop btn-disable",s.deleteTargetFromStorage="delete-target-from-storage",s.clearLocalStorage="clear-all-local-storage",s.showNewResult="show-new-results",s.showSettings="show-settings",s.closeSettings="close-settings",s.changeTheme="change-theme",s.changeLanguage="change-language",s.changeSound="change-sound",s.changeAnimation="change-animation",s.changeVolume="change-volume",s.resetSettings="reset-settings",s.showWarningPopup="show-warning-popup",s.closeWarningPopup="close-warning-popup",s.warningResults="warning-results",s.warningSettings="warning-settings",s.blockField="block-field",s.unBlockField="unblock-field",s.openBurgerMenu="open-burger-menu",s.closeBurgerMenu="close-burger-menu",s.setGameAnimation="set-game-animation",s.removeGameAnimation="remove-game-animation",s.changeGameMode="change-game-mode"},500:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.state=void 0;const n=s(8109),o=a(s(3583)),i=s(8760);t.state=new class{constructor(e){this.onUpdate=new o.default,this._data=e}setNewGame(){this._data.gameSettings.currentField=[],this._data.gameSettings.movesMade=[],this._data.gameSettings.moveCounter=0,this._data.gameSettings.isTimeRunning=!1,this._data.gameSettings.isStartGame=!1,this._data.gameSettings.isWin=!1,this._data.gameSettings.result.moves=0,this._data.gameSettings.result.time="00:00:00",this._data.gameSettings.isCollectStart=!1,this._data.gameSettings.isStartHardMode=!1,t.state.onUpdate.emit(i.StateOptions.newGame)}setGameField(e){this._data.gameSettings.currentField=e}getGameField(){return this._data.gameSettings.currentField}setMove(e){this._data.gameSettings.currentField=e,t.state.onUpdate.emit(i.StateOptions.setMove)}setFrameSize(e){this._data.gameSettings.frameSize=e,t.state.onUpdate.emit(i.StateOptions.changeSize)}getFrameSize(){return this._data.gameSettings.frameSize}setNewMove(e){this._data.gameSettings.movesMade.push(e)}getAllMoves(){return this._data.gameSettings.movesMade}setMoveCounter(){this._data.gameSettings.moveCounter++,t.state.onUpdate.emit(i.StateOptions.moveCounter)}getMoveCounter(){return this._data.gameSettings.moveCounter}setStartGame(){this._data.gameSettings.isStartGame=!0,t.state.onUpdate.emit(i.StateOptions.startGame)}setStopGame(){this._data.gameSettings.isStartGame=!1,t.state.onUpdate.emit(i.StateOptions.stopGame),t.state.onUpdate.emit(i.StateOptions.stopBtnDisable)}setToggleTimer(e){this._data.gameSettings.isTimeRunning=e}getToggleTimer(){return this._data.gameSettings.isTimeRunning}getStopStartGame(){return this._data.gameSettings.isStartGame}setWinGame(e){this._data.gameSettings.isWin=e,t.state.onUpdate.emit(i.StateOptions.winGame)}getIsWinGame(){return this._data.gameSettings.isWin}setResultMoves(e){this._data.gameSettings.result.moves=e}setResultTime(e){this._data.gameSettings.result.time=e}getResult(){return this._data.gameSettings.result}setCollectPuzzle(){t.state.onUpdate.emit(i.StateOptions.blockField),t.state.onUpdate.emit(i.StateOptions.collectPuzzle)}shuffleStart(){t.state.onUpdate.emit(i.StateOptions.shuffleStart)}shuffleStop(){t.state.onUpdate.emit(i.StateOptions.shuffleStop)}collectBtnDisable(){t.state.onUpdate.emit(i.StateOptions.collectBtnOn)}createPopup(){t.state.onUpdate.emit(i.StateOptions.createPopup)}showCollectPopup(){t.state.onUpdate.emit(i.StateOptions.showCollectPopup)}showFinishPopup(){t.state.onUpdate.emit(i.StateOptions.showFinishPopup)}showResultPopup(){t.state.onUpdate.emit(i.StateOptions.showResultPopup)}closePopup(){t.state.onUpdate.emit(i.StateOptions.closePopup)}startCollectTimer(){t.state.onUpdate.emit(i.StateOptions.collectStartTimer)}stopCollectTimer(){t.state.onUpdate.emit(i.StateOptions.collectStopTimer)}setCollectTimer(e){this._data.gameSettings.result.collectTime=e}getCollectTimer(){return this._data.gameSettings.result.collectTime}setCollectMoves(){this._data.gameSettings.result.collectMoves++,t.state.onUpdate.emit(i.StateOptions.setCollectMoves)}getCollectMoves(){return this._data.gameSettings.result.collectMoves}clearCollectMoves(){this._data.gameSettings.result.collectMoves=0}stopBtnEnable(){t.state.onUpdate.emit(i.StateOptions.stopBtnEnable)}stopBtnDisable(){t.state.onUpdate.emit(i.StateOptions.stopBtnDisable)}setCollectState(e){this._data.gameSettings.isCollectStart=e}clearResults(){t.state.onUpdate.emit(i.StateOptions.clearLocalStorage)}deleteTargetFromStorage(e){this._data.gameSettings.deleteTarget=e,t.state.onUpdate.emit(i.StateOptions.deleteTargetFromStorage),t.state.onUpdate.emit(i.StateOptions.showNewResult)}getDeleteTargetFromStorage(){return this._data.gameSettings.deleteTarget}openSettings(){t.state.onUpdate.emit(i.StateOptions.showSettings)}getSettings(){return this._data.appSettings}setTheme(e){this._data.appSettings.theme=e,t.state.onUpdate.emit(i.StateOptions.changeTheme)}getTheme(){return this._data.appSettings.theme}setAnimation(e){this._data.appSettings.animation=e,t.state.onUpdate.emit(i.StateOptions.changeAnimation)}getAnimation(){return this._data.appSettings.animation}setSound(e){this._data.appSettings.stateSound=e,t.state.onUpdate.emit(i.StateOptions.changeSound)}getSound(){return this._data.appSettings.stateSound}setLanguage(e){this._data.appSettings.language=e,t.state.onUpdate.emit(i.StateOptions.changeLanguage)}getLanguage(){return this._data.appSettings.language}setVolume(e){this._data.appSettings.volume=e,t.state.onUpdate.emit(i.StateOptions.changeVolume)}getVolume(){return this._data.appSettings.volume}setLastVolume(e){this._data.appSettings.lastVolume=e}getLastVolume(){return this._data.appSettings.lastVolume}setGameMode(e){this._data.appSettings.hardMode=e,t.state.onUpdate.emit(i.StateOptions.changeGameMode)}getGameMode(){return this._data.appSettings.hardMode}setStartGameMode(e){this._data.gameSettings.isStartHardMode=e}getStartGameMode(){return this._data.gameSettings.isStartHardMode}resetSettings(){this._data.appSettings.animation=!0,this._data.appSettings.volume="30",this._data.appSettings.stateSound=!0,this._data.appSettings.theme=!1,this._data.appSettings.language=!0,this._data.appSettings.hardMode=!1,t.state.onUpdate.emit(i.StateOptions.resetSettings),t.state.onUpdate.emit(i.StateOptions.closePopup)}initLocalStorage(){try{const e=n.lStorage.get("settings");this._data.appSettings.animation=e.animation,this._data.appSettings.language=e.language,this._data.appSettings.lastVolume=e.lastVolume,this._data.appSettings.stateSound=e.stateSound,this._data.appSettings.theme=e.theme,this._data.appSettings.volume=e.volume,this._data.appSettings.hardMode=e.hardMode}catch(e){return}}showWarningPopup(e){this._data.warningType=e,t.state.onUpdate.emit(i.StateOptions.showWarningPopup)}closeWarningPopup(){t.state.onUpdate.emit(i.StateOptions.closeWarningPopup)}warningDeleteResult(){t.state.onUpdate.emit(i.StateOptions.warningResults)}warningDeleteSettings(){t.state.onUpdate.emit(i.StateOptions.warningSettings)}onClickWarning(){this._data.warningType===i.StateOptions.showResultPopup?this.warningDeleteResult():this._data.warningType===i.StateOptions.showSettings&&this.warningDeleteSettings(),this.closeWarningPopup()}openBurgerMenu(){t.state.onUpdate.emit(i.StateOptions.openBurgerMenu)}closeBurgerMenu(){t.state.onUpdate.emit(i.StateOptions.closeBurgerMenu)}setGameAnimation(){t.state.onUpdate.emit(i.StateOptions.setGameAnimation)}removGametAnimation(){t.state.onUpdate.emit(i.StateOptions.removeGameAnimation)}}({gameSettings:{frameSize:4,currentField:[],movesMade:[],moveCounter:0,isStartGame:!1,isTimeRunning:!1,isWin:!1,isCollectStart:!1,deleteTarget:-1,isStartHardMode:!1,result:{moves:0,time:"00:00:00",collectTime:"00:00:00",collectMoves:0},results:[]},appSettings:{volume:"30",lastVolume:"30",stateSound:!0,theme:!1,language:!0,animation:!0,hardMode:!1},warningType:null})},915:function(e,t,s){var a=this&&this.__awaiter||function(e,t,s,a){return new(s||(s=Promise))((function(n,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function r(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,r)}l((a=a.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const o=n(s(2158)),i=s(500),r=s(8760),l=s(6601),u=s(6398),d=s(9973),h=n(s(1751)),c=n(s(3359)),p=n(s(530));class g extends o.default{constructor(e){super(e,"div","wrapper"),this.createBG(e),new u.Header(this.node);const t=new d.Main(this.node);new l.Footer(this.node),this.changeFontFamily(i.state.getLanguage(),e),this.appListener=s=>{switch(s){case r.StateOptions.changeLanguage:this.changeFontFamily(i.state.getLanguage(),e);break;case r.StateOptions.winGame:i.state.getAnimation()&&(this.fireWork=new o.default(t.node,"img","firework"),this.fireWork.node.src=p.default);break;case r.StateOptions.closePopup:this.fireWork&&this.fireWork.destroy();break;case r.StateOptions.resetSettings:this.changeFontFamily(i.state.getLanguage(),e);break;case r.StateOptions.changeTheme:this.createBG(e)}},i.state.onUpdate.add(this.appListener)}createBG(e){const t=new Image;i.state.getTheme()?(e.style.backgroundImage="url('../../assets/image/main-bg-dark-preload.jpg')",t.src=c.default):(e.style.backgroundImage="url('../../assets/image/main-bg-light-preload.jpg')",t.src=h.default),t.onload=()=>a(this,void 0,void 0,(function*(){i.state.getTheme()?(e.classList.add("body_original_dark"),e.classList.remove("body_original_light")):(e.classList.add("body_original_light"),e.classList.remove("body_original_dark"))}))}changeFontFamily(e,t){t.style.fontFamily=e?"'Thasadith', sans-serif":"'Inter', sans-serif"}}t.App=g},6601:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;const n=a(s(2158));s(7933);class o extends n.default{constructor(e){super(e,"footer","footer"),new n.default(this.node,"p","footer_year","2023");const t=new n.default(this.node,"a","footer_link","pain4metoo");t.node.href="https://github.com/pain4metoo",t.node.target="blank"}}t.Footer=o},6398:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const n=a(s(2158)),o=s(500),i=s(8760),r=s(1815),l=s(3303);var u;s(4336),function(e){e.Restart="restart",e.Stop="stop",e.Results="results",e.Settings="settings"}(u||(u={}));class d extends n.default{constructor(e){super(e,"header","header"),this.navItems=["restart","stop","results","settings"],this.navItemsHtmlElements=[];const t=new n.default(this.node,"nav","header_nav"),s=new n.default(t.node,"ul","header_list"),a=new n.default(t.node,"button","header_mobile_btn",o.state.getLanguage()?"stop":"стоп");a.node.onclick=()=>{l.soundControl.playSound(r.SoundTypes.btn),a.node.classList.add("header_mobile_btn_active"),o.state.setStopGame()};const d=new n.default(t.node,"div","header_burger"),h=new n.default(d.node,"div","header_burger_item"),c=new n.default(d.node,"div","header_burger_item");d.node.onclick=()=>{l.soundControl.playSound(r.SoundTypes.btn),this.openBurgerMenu(s.node,h.node,c.node)},this.navItems.forEach((e=>{const t=new n.default(s.node,"li","header_list_item"),a=new n.default(t.node,"button","header_item_btn");switch(this.navItemsHtmlElements.push(a.node),e){case u.Restart:a.node.textContent=o.state.getLanguage()?"restart":"рестарт",t.node.onclick=()=>{l.soundControl.playSound(r.SoundTypes.collect),o.state.setNewGame(),this.closeBurgerMenu(s.node,h.node,c.node),o.state.closeBurgerMenu(),a.node.classList.add("header_item_btn_active")};break;case u.Stop:a.node.textContent=o.state.getLanguage()?"stop":"стоп",a.node.disabled=!0,t.node.onclick=()=>{l.soundControl.playSound(r.SoundTypes.btn),a.node.classList.add("header_item_btn_active"),o.state.setStopGame(),a.node.disabled=!0};break;case u.Results:a.node.textContent=o.state.getLanguage()?"results":"результаты",t.node.onclick=()=>{l.soundControl.playSound(r.SoundTypes.popup),a.node.classList.add("header_item_btn_active"),this.showResultPopup(),this.closeBurgerMenu(s.node,h.node,c.node),o.state.closeBurgerMenu()};break;case u.Settings:a.node.textContent=o.state.getLanguage()?"settings":"настройки",t.node.onclick=()=>{l.soundControl.playSound(r.SoundTypes.popup),a.node.classList.add("header_item_btn_active"),this.showSettings(),this.closeBurgerMenu(s.node,h.node,c.node),o.state.closeBurgerMenu()}}})),this.headerListener=e=>{switch(e){case i.StateOptions.startGame:this.changeStateStopBtn(a.node,!1);break;case i.StateOptions.stopBtnEnable:this.changeStateStopBtn(a.node,!1),this.navItemsHtmlElements[1].classList.remove("header_item_btn_active"),a.node.classList.remove("header_mobile_btn_active");break;case i.StateOptions.stopBtnDisable:this.changeStateStopBtn(a.node,!0);break;case i.StateOptions.shuffleStart:this.changeStateButtons(!0),this.changeStateStopBtn(a.node,!0),this.navItemsHtmlElements[1].classList.remove("header_item_btn_active"),a.node.classList.remove("header_mobile_btn_active"),this.navItemsHtmlElements[0].classList.add("header_item_btn_active");break;case i.StateOptions.shuffleStop:this.changeStateButtons(!1),this.navItemsHtmlElements[0].classList.remove("header_item_btn_active");break;case i.StateOptions.closePopup:this.navItemsHtmlElements[2].classList.remove("header_item_btn_active"),this.navItemsHtmlElements[3].classList.remove("header_item_btn_active");break;case i.StateOptions.changeLanguage:case i.StateOptions.resetSettings:this.changeLanguage(a.node)}},o.state.onUpdate.add(this.headerListener)}changeStateStopBtn(e,t){t?(this.navItemsHtmlElements[1].disabled=!0,e.disabled=!0):(this.navItemsHtmlElements[1].disabled=!1,e.disabled=!1)}showSettings(){o.state.createPopup(),o.state.openSettings()}showResultPopup(){o.state.createPopup(),o.state.showResultPopup()}openBurgerMenu(e,t,s){t.classList.toggle("header_burger_item_rotate"),s.classList.toggle("header_burger_item_rotate"),t.classList.contains("header_burger_item_rotate")?(e.classList.add("header_list_show"),o.state.openBurgerMenu()):(e.classList.remove("header_list_show"),o.state.closeBurgerMenu())}closeBurgerMenu(e,t,s){t.classList.remove("header_burger_item_rotate"),s.classList.remove("header_burger_item_rotate"),e.classList.remove("header_list_show")}changeStateButtons(e){this.navItemsHtmlElements.forEach(((t,s)=>{1!==s&&(t.disabled=!!e)}))}changeLanguage(e){o.state.getLanguage()?this.navItems.forEach(((t,s)=>{this.navItemsHtmlElements[s].textContent=t,e.textContent="stop"})):(this.navItemsHtmlElements[0].textContent="рестарт",this.navItemsHtmlElements[1].textContent="стоп",this.navItemsHtmlElements[2].textContent="результаты",this.navItemsHtmlElements[3].textContent="настройки",e.textContent="стоп")}}t.Header=d},6832:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Counter=void 0;const n=a(s(2158));s(3478);const o=s(9396),i=s(7790);class r extends n.default{constructor(e){super(e,"section","main_counters"),new o.Moves(this.node),new i.Timer(this.node)}}t.Counter=r},9396:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Moves=void 0;const n=a(s(2158)),o=s(3218),i=s(500),r=s(8760);class l extends n.default{constructor(e){super(e,"div","main_counters_block_left");const t=new n.default(this.node,"div","main_counters_moves"),s=new n.default(t.node,"p","main_counters_text main_counters_txt","Moves: "),a=new n.default(t.node,"p","main_counters_number main_counters_txt","0");i.state.onUpdate.add((e=>{switch(e){case r.StateOptions.moveCounter:this.makeMove(a.node);break;case r.StateOptions.newGame:a.node.textContent="0";break;case r.StateOptions.winGame:i.state.setResultMoves(Number(a.node.textContent));break;case r.StateOptions.setCollectMoves:a.node.textContent=`${i.state.getMoveCounter()+i.state.getCollectMoves()}`;break;case r.StateOptions.changeLanguage:case r.StateOptions.resetSettings:this.switchLang(i.state.getLanguage(),s.node)}})),this.switchLang(i.state.getLanguage(),s.node)}switchLang(e,t){t.textContent=`${(0,o.correctTranslater)(e,o.TList.moves)[0]}: `}makeMove(e){e.textContent=`${i.state.getMoveCounter()}`}}t.Moves=l},7790:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;const n=a(s(2158)),o=s(3218),i=s(500),r=s(8760);class l extends n.default{constructor(e){super(e,"div","main_counters_block_right"),this.sec=0,this.min=0,this.hour=0,this.collectSec=1;const t=new n.default(this.node,"p","main_counters_time_text main_counters_txt","Time: "),s=new n.default(this.node,"p","main_counters_time_number main_counters_txt","00:00:00");this.timeNodeHtml=s.node,i.state.onUpdate.add((e=>{switch(e){case r.StateOptions.startGame:this.setTimer(i.state.getStopStartGame(),i.state.getToggleTimer());break;case r.StateOptions.stopGame:setTimeout((()=>{this.stopTimer(i.state.getStopStartGame(),i.state.getToggleTimer())}),1e3);break;case r.StateOptions.newGame:s.node.textContent="00:00:00",this.newGame();break;case r.StateOptions.winGame:s.node.textContent&&i.state.setResultTime(s.node.textContent);break;case r.StateOptions.collectStartTimer:this.setTimer(i.state.getStopStartGame(),i.state.getToggleTimer()),this.setCollectGameTimer();break;case r.StateOptions.collectStopTimer:this.stopTimer(i.state.getStopStartGame(),i.state.getToggleTimer()),this.stopCollectGameTimer();break;case r.StateOptions.changeLanguage:case r.StateOptions.resetSettings:this.switchLang(i.state.getLanguage(),t.node)}})),this.switchLang(i.state.getLanguage(),t.node)}switchLang(e,t){t.textContent=`${(0,o.correctTranslater)(e,o.TList.time)[0]}: `}setCollectGameTimer(){const e=window.setInterval((()=>this.collectSec++),1e3);this.collectTimer=e}stopCollectGameTimer(){i.state.setCollectTimer(String(this.collectSec)),clearInterval(this.collectTimer),this.collectSec=0}newGame(){this.sec=0,this.min=0,this.hour=0,clearInterval(this.currentTimer)}setTimer(e,t){if(e&&!t){const e=window.setInterval((()=>this.newTimer()),1e3);this.currentTimer=e,i.state.setToggleTimer(!0)}}stopTimer(e,t){!e&&t&&(clearInterval(this.currentTimer),i.state.setToggleTimer(!1))}newTimer(){this.sec++,this.sec>=60&&(this.min++,this.sec=this.sec-60),this.min>=60&&(this.hour++,this.min=this.min-60),this.sec<10?this.min<10?this.hour<10?this.timeNodeHtml.textContent=`0${this.hour}:0${this.min}:0${this.sec}`:this.timeNodeHtml.textContent=`${this.hour}:0${this.min}:0${this.sec}`:this.hour<10?this.timeNodeHtml.textContent=`0${this.hour}:${this.min}:0${this.sec}`:this.timeNodeHtml.textContent=`${this.hour}:${this.min}:0${this.sec}`:this.min<10?this.hour<10?this.timeNodeHtml.textContent=`0${this.hour}:0${this.min}:${this.sec}`:this.timeNodeHtml.textContent=`${this.hour}:0${this.min}:${this.sec}`:this.hour<10?this.timeNodeHtml.textContent=`0${this.hour}:${this.min}:${this.sec}`:this.timeNodeHtml.textContent=`${this.hour}:${this.min}:${this.sec}`}}t.Timer=l},138:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FrameSize=void 0;const n=a(s(2158)),o=s(500),i=s(8760),r=s(1815);s(8736);const l=s(3303),u=s(3218);class d extends n.default{constructor(e){super(e,"section","main_frame"),this.otherSize=["3x3","4x4","5x5","6x6","7x7","8x8"],this.otherSizeHtml=[];const t=new n.default(this.node,"button","main_frame_btn","collect puzzle");t.node.onclick=()=>{t.node.classList.add("main_frame_btn_active"),o.state.setCollectPuzzle()},t.node.disabled=!0;const s=new n.default(this.node,"div","main_frame_other");this.otherSize.forEach(((e,t)=>{const a=new n.default(s.node,"button","main_frame_other_size",`${e}`);a.node.disabled=!0,a.node.onclick=()=>this.setNewFrameSize(Number(e[0])),this.otherSizeHtml.push(a.node),o.state.getFrameSize()===Number(this.otherSize[t][0])?a.node.classList.add("main_frame_other_size_active"):a.node.classList.remove("main_frame_other_size_active")})),o.state.onUpdate.add((e=>{switch(e){case i.StateOptions.changeSize:this.otherSizeHtml.forEach(((e,t)=>{o.state.getFrameSize()===Number(this.otherSize[t][0])?e.classList.add("main_frame_other_size_active"):e.classList.remove("main_frame_other_size_active")}));break;case i.StateOptions.shuffleStart:t.node.disabled=!0,this.changeBtnSizeState(!0);break;case i.StateOptions.shuffleStop:t.node.disabled=!1,this.changeBtnSizeState(!1),t.node.classList.remove("main_frame_btn_active");break;case i.StateOptions.collectBtnOn:t.node.disabled=!0;break;case i.StateOptions.collectBtnOff:t.node.disabled=!1;break;case i.StateOptions.winGame:t.node.disabled=!0;break;case i.StateOptions.changeLanguage:case i.StateOptions.resetSettings:this.switchLang(o.state.getLanguage(),t.node)}})),this.switchLang(o.state.getLanguage(),t.node)}switchLang(e,t){t.textContent=`${(0,u.correctTranslater)(e,u.TList.collect)[0]}`}setNewFrameSize(e){o.state.setFrameSize(e),o.state.setNewGame(),l.soundControl.playSound(r.SoundTypes.collect)}changeBtnSizeState(e){this.otherSizeHtml.forEach((t=>{t.disabled=!!e}))}}t.FrameSize=d},3221:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const n=a(s(2158)),o=s(500);s(2830);const i=s(8760),r=s(8109),l=s(1372),u=s(1815),d=s(3303);class h extends n.default{constructor(e){super(e,"div","main_game_container"),this.gameSquareHTML=[],this.results=r.lStorage.get("results")||[],this.queueEL=[],this.queueFontSize=[],this.gameListener=e=>{switch(e){case i.StateOptions.newGame:o.state.onUpdate.remove(this.gameListener),this.removeExtremeMode();break;case i.StateOptions.winGame:this.removeExtremeMode(),o.state.getIsWinGame()?this.node.classList.add("main_game_over"):this.node.classList.remove("main_game_over");break;case i.StateOptions.collectPuzzle:this.removeExtremeMode(),this.collectPazzle();break;case i.StateOptions.clearLocalStorage:this.deleteResult();break;case i.StateOptions.deleteTargetFromStorage:this.deleteResult(o.state.getDeleteTargetFromStorage());break;case i.StateOptions.setMove:this.isExtremeMode();break;case i.StateOptions.changeGameMode:o.state.getGameMode()||this.removeExtremeMode();break;case i.StateOptions.stopGame:this.removeExtremeMode(!0);break;case i.StateOptions.startGame:this.isExtremeMode();break;case i.StateOptions.resetSettings:o.state.getGameMode()||this.removeExtremeMode()}},o.state.onUpdate.add(this.gameListener),this.createGame()}createGame(){l.GenerateMatrix.generateMatrix(o.state.getFrameSize()),this.createElementsHTML(),this.shuffleCycle()}createElementsHTML(){const e=o.state.getFrameSize(),t=o.state.getGameField().flat();this.node.classList.add(`main_game_container_${e}x${e}`);for(let s=0;s<e*e;s++){const a=new n.default(this.node,"div","main_game_square",`${t[s]}`);a.node.classList.add(`main_game_square_${e}x${e}`),this.gameSquareHTML.push(a.node),a.node.onclick=()=>this.moveByClick(Number(a.node.textContent))}}shuffleCycle(){const e=this.getRandomShuffleCount();let t=0;o.state.shuffleStart(),o.state.startCollectTimer(),this.changeStateGameField(!0),o.state.setGameAnimation();const s=setInterval((()=>{this.singleStrokeCycle(),t===e&&(clearInterval(s),this.changeStateGameField(!1),d.soundControl.pauseSound(),o.state.stopCollectTimer(),o.state.removGametAnimation(),o.state.shuffleStop(),this.handlerDragAndDrop(o.state.getGameField().flat())),t++}),0)}getRandomShuffleCount(){return[300,500,700,900,1100,1300][o.state.getFrameSize()-3]+Math.ceil(100*Math.random())}singleStrokeCycle(){const e=this.availableMoves(o.state.getGameField()),t=this.getRandomMove(e);this.makeMove(o.state.getGameField(),t,e.emptySquare,!1)}availableMoves(e){const t={axisXLeft:[],axisXRight:[],axisYTop:[],axisYBottom:[],emptySquare:[]};for(let s=0;s<e.length;s++)for(let a=0;a<e[s].length;a++)if(0===e[s][a])return t.emptySquare=[s,a],e[s][a-1]&&(t.axisXLeft=[s,a-1,e[s][a-1]]),e[s][a+1]&&(t.axisXRight=[s,a+1,e[s][a+1]]),e[s-1]&&e[s-1][a]&&(t.axisYTop=[s-1,a,e[s-1][a]]),e[s+1]&&e[s+1][a]&&(t.axisYBottom=[s+1,a,e[s+1][a]]),t;return t}getRandomMove(e){const t=Object.values(e).reduce(((e,t,s,a)=>(s!==a.length-1&&t.length>0&&e.push(t),e)),[]),s=o.state.getAllMoves()[o.state.getAllMoves().length-1][2],a=t.filter((e=>e[2]!==s));return a[Math.ceil(Math.random()*a.length)-1]}isExtremeMode(){o.state.getGameMode()&&!o.state.getStartGameMode()?(o.state.setStartGameMode(!0),this.onExtremeMode()):o.state.getGameMode()||(o.state.setStartGameMode(!1),this.removeExtremeMode())}removeExtremeMode(e){clearInterval(this.intervalExtremeMode),o.state.setStartGameMode(!1),e||this.queueEL.forEach(((e,t)=>{e.style.fontSize=`${this.queueFontSize[t]}`}))}onExtremeMode(){const e=window.setInterval((()=>this.extremeMode()),500);this.intervalExtremeMode=e}extremeMode(){const e=o.state.getFrameSize(),t=Math.ceil(Math.random()*this.gameSquareHTML.length)-1;if(this.queueEL.includes(this.gameSquareHTML[t])){for(let e=0;e<this.gameSquareHTML.length;e++)if(!this.queueEL.includes(this.gameSquareHTML[e])){this.queueEL.push(this.gameSquareHTML[e]),this.queueFontSize.push(window.getComputedStyle(this.gameSquareHTML[e]).fontSize),this.gameSquareHTML[e].style.fontSize="0";break}}else this.queueEL.push(this.gameSquareHTML[t]),this.queueFontSize.push(window.getComputedStyle(this.gameSquareHTML[t]).fontSize),this.gameSquareHTML[t].style.fontSize="0";if(this.queueEL.length>[3,6,9,12,15,18][e-3]){const e=this.queueEL.shift(),t=this.queueFontSize.shift();e&&(e.style.fontSize=`${t}`)}}makeMove(e,t,s,a){return[e[t[0]][t[1]],e[s[0]][s[1]]]=[e[s[0]][s[1]],e[t[0]][t[1]]],a||o.state.getAllMoves().push(t),o.state.setGameField(e),this.shuffleElementsHTML(),e}shuffleElementsHTML(){const e=o.state.getGameField().flat();this.gameSquareHTML.forEach(((t,s)=>{0===e[s]?(t.textContent="",t.classList.add("main_game_square_empty")):(t.textContent=String(e[s]),t.classList.remove("main_game_square_empty"))}))}handlerDragAndDrop(e){const t=Object.values(this.availableMoves(o.state.getGameField())).map(((e,t)=>!!(t<=3&&e[2])&&e[2])).filter((e=>e));e.forEach(((s,a)=>{0===s&&(this.gameSquareHTML[a].ondragover=e=>{e.preventDefault()},this.gameSquareHTML[a].ondrop=e=>{var t;const s=null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("id");this.moveByClick(Number(s))}),t.includes(s)?(this.gameSquareHTML[a].ondragover=e=>{e.stopImmediatePropagation()},this.gameSquareHTML[a].draggable=!0,this.gameSquareHTML[a].ondragstart=t=>{var s;null===(s=t.dataTransfer)||void 0===s||s.setData("id",String(e[a]))}):this.gameSquareHTML[a].draggable=!1}))}collectPazzle(){o.state.shuffleStart(),o.state.setStartGame(),o.state.setCollectState(!0),o.state.stopBtnDisable(),d.soundControl.playSound(u.SoundTypes.collect),this.changeStateGameField(!0);const e=setInterval((()=>{const t=this.availableMoves(o.state.getGameField()).emptySquare,s=o.state.getAllMoves().splice(-1)[0];this.makeMove(o.state.getGameField(),s,t,!0),o.state.setCollectMoves(),0===o.state.getAllMoves().length&&(this.changeStateGameField(!1),d.soundControl.pauseSound(),o.state.setCollectState(!1),o.state.clearCollectMoves(),clearInterval(e),o.state.shuffleStop(),o.state.collectBtnDisable(),o.state.setWinGame(!0),this.showCollectResult(),d.soundControl.playSound(u.SoundTypes.roboWin))}),1)}moveByClick(e){Object.values(this.availableMoves(o.state.getGameField())).forEach((t=>{t[2]===e&&(this.makeMove(o.state.getGameField(),t,this.availableMoves(o.state.getGameField()).emptySquare,!1),this.setMoveInState(o.state.getGameField()),this.handlerDragAndDrop(o.state.getGameField().flat()))}))}setMoveInState(e){o.state.setMove(e),o.state.setMoveCounter(),o.state.setStartGame(),o.state.stopBtnEnable(),this.isWin()?(o.state.setWinGame(!0),this.showFinishResult(),this.setInLocalStorage(),d.soundControl.playSound(u.SoundTypes.win)):d.soundControl.playSound(u.SoundTypes.move)}setInLocalStorage(){const e={frameSize:o.state.getFrameSize(),moves:o.state.getResult().moves,time:o.state.getResult().time};if(this.results.includes(e))return;this.results.push(Object.assign({},e));const t=this.sortValue(this.results);t.length>10&&t.splice(t.length-1,1),r.lStorage.put("results",this.results)}deleteResult(e){0===e||e?this.results.splice(e,1):this.results.splice(0),r.lStorage.put("results",this.results)}sortValue(e){return e.sort(((e,t)=>{if(e.frameSize!==t.frameSize)return t.frameSize-e.frameSize;if(e.moves!==t.moves)return e.moves-t.moves;{const s=e.time.split(":").map((e=>+e)),a=t.time.split(":").map((e=>+e));return s[0]!==a[0]?s[0]-a[0]:s[1]!==a[1]?s[1]-a[1]:s[2]-a[2]}}))}isWin(){const e=o.state.getGameField().flat();for(let t=0;t<e.length;t++)if(l.GenerateMatrix.finishResult[t]!==e[t])return!1;return!0}showFinishResult(){o.state.createPopup(),o.state.setStopGame(),o.state.showFinishPopup()}showCollectResult(){o.state.createPopup(),o.state.setStopGame(),o.state.showCollectPopup()}changeStateGameField(e){e?this.node.classList.add("main_game_over"):this.node.classList.remove("main_game_over")}}t.Game=h},1372:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateMatrix=void 0;const a=s(500);class n{static generateMatrix(e){const t=[],s=Math.pow(e,2);for(let e=0;e<s;e++)t.push(e);const n=t.splice(0,1);t[t.length]=n[0];const o=[];for(;t.length;)o.push(t.splice(0,e));this.finishResult=o.slice().flat(),a.state.setGameField(o),this.determineDefaultZeroPosition()}static determineDefaultZeroPosition(){const e=a.state.getGameField();for(let t=0;t<e.length;t++)for(let s=0;s<e[t].length;s++)if(0===e[t][s])return void a.state.setNewMove([t,s,0])}}t.GenerateMatrix=n,n.finishResult=[]},1815:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SoundControl=t.SoundTypes=void 0;const n=s(500),o=s(8760),i=a(s(9150)),r=a(s(4170)),l=a(s(5086)),u=a(s(5434)),d=a(s(5469)),h=a(s(2197)),c=a(s(6822)),p=a(s(0)),g=a(s(4105));var m;!function(e){e.move="move",e.collect="collect",e.win="win",e.btn="btn",e.input="input",e.volume="volume",e.delete="delete",e.roboWin="robo-win",e.popup="popup"}(m=t.SoundTypes||(t.SoundTypes={})),t.SoundControl=class{constructor(){this.sound=new Audio,this.sound.volume=Number(n.state.getVolume())/100,this.soundListener=e=>{e===o.StateOptions.changeVolume&&(this.sound.volume=Number(n.state.getVolume())/100)},n.state.onUpdate.add(this.soundListener)}playSound(e){switch(e){case m.move:this.sound.src=i.default,this.play();break;case m.win:this.sound.src=l.default,this.play();break;case m.collect:this.sound.src=r.default,this.play();break;case m.btn:this.sound.src=u.default,this.play();break;case m.input:this.sound.src=d.default,this.play();break;case m.volume:this.sound.src=h.default,this.play();break;case m.delete:this.sound.src=c.default,this.play();break;case m.roboWin:this.sound.src=p.default,this.play();break;case m.popup:this.sound.src=g.default,this.play()}}play(){const e=this.sound.currentTime>0&&!this.sound.paused&&!this.sound.ended&&this.sound.readyState>this.sound.HAVE_CURRENT_DATA;this.sound.currentTime=0,e||setTimeout((()=>{this.sound.play()}),150)}pauseSound(){this.sound.pause()}}},9973:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;const n=a(s(2158)),o=s(500),i=s(8760),r=s(6832),l=s(138),u=s(3221);s(4580);const d=s(9830),h=s(1407);class c extends n.default{constructor(e){super(e,"main","main"),this.mainListener=e=>{switch(e){case i.StateOptions.setGameAnimation:o.state.getAnimation()?t.node.classList.add("main_game_animation"):t.node.classList.remove("main_game_animation");break;case i.StateOptions.removeGameAnimation:t.node.classList.remove("main_game_animation");break;case i.StateOptions.newGame:s.destroy(),s=new u.Game(t.node);break;case i.StateOptions.createPopup:this.mainPopups=new d.Popups(this.node);break;case i.StateOptions.closePopup:this.mainPopups.destroy();break;case i.StateOptions.showWarningPopup:this.warningPopup=new h.WarningPopup(this.node);break;case i.StateOptions.closeWarningPopup:this.warningPopup.destroy();break;case i.StateOptions.openBurgerMenu:this.node.style.zIndex="-1";break;case i.StateOptions.closeBurgerMenu:this.node.style.zIndex="0",this.node.style.position="inherit"}},o.state.onUpdate.add(this.mainListener),new r.Counter(this.node);const t=new n.default(this.node,"section","main_game");let s=new u.Game(t.node);new l.FrameSize(this.node)}}t.Main=c},398:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CollectPopup=void 0;const n=a(s(2158)),o=s(500);s(7313);class i extends n.default{constructor(e){super(e,"div","popups_collect"),new n.default(this.node,"h2","popups_collect_title",o.state.getLanguage()?"Puzzle assembled automatically":"Пятнашки собраны автоматически");const t=new n.default(this.node,"div","popups_collect_info");new n.default(t.node,"h4","popups_collect_time",o.state.getLanguage()?`Auto build time: ${o.state.getCollectTimer()}s`:`Время сборки: ${o.state.getCollectTimer()}c`),new n.default(t.node,"h2","popups_collect_total_time",o.state.getLanguage()?`Game time: ${o.state.getResult().time}`:`Игровое время: ${o.state.getResult().time}`),new n.default(t.node,"h2","popups_collect_moves",o.state.getLanguage()?`Total moves: ${o.state.getResult().moves+o.state.getCollectMoves()}`:`Всего ходов: ${o.state.getResult().moves+o.state.getCollectMoves()}`)}}t.CollectPopup=i},9942:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FinishPopup=void 0;const n=a(s(2158));s(3384);const o=s(500);class i extends n.default{constructor(e){super(e,"div","popups_finish"),new n.default(this.node,"h2","popups_finish_title",o.state.getLanguage()?"Hooray! You have completed the puzzle!":"Ура! Вы собрали пятнашки!");const t=new n.default(this.node,"div","popups_collect_info");new n.default(t.node,"h4","popups_finish_time",o.state.getLanguage()?`Game time: ${o.state.getResult().time}`:`Время игры: ${o.state.getResult().time}`),new n.default(t.node,"h4","popups_finish_moves",o.state.getLanguage()?`Total moves: ${o.state.getResult().moves+o.state.getCollectMoves()}`:`Всего ходов: ${o.state.getResult().moves+o.state.getCollectMoves()}`)}}t.FinishPopup=i},9830:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Popups=void 0;const n=a(s(2158)),o=s(500),i=s(8760),r=s(398),l=s(9942),u=s(3350);s(4913);const d=s(2165),h=s(8109),c=s(1815),p=s(3303);class g extends n.default{constructor(e){super(e,"div","popups");const t=new n.default(this.node,"div","popups_inner"),s=new n.default(t.node,"button","popups_close_btn"),a=new n.default(t.node,"button","popups_new_btn",o.state.getLanguage()?"restart":"новая игра");a.node.onclick=()=>this.onNewGameBtn(),s.node.onclick=()=>this.onDeletePopup(),this.popupsListener=e=>{switch(e){case i.StateOptions.showCollectPopup:this.popupCollect=new r.CollectPopup(t.node),a.node.style.display="block";break;case i.StateOptions.showResultPopup:this.popupResult=new u.ResultPopup(t.node),a.node.textContent=o.state.getLanguage()?"delete all results":"очистить результаты",a.node.onclick=()=>this.showWarning(i.StateOptions.showResultPopup),null!==h.lStorage.get("results")&&h.lStorage.get("results").length>0?a.node.disabled=!1:a.node.disabled=!0;break;case i.StateOptions.deleteTargetFromStorage:null!==h.lStorage.get("results")&&(h.lStorage.get("results").length>0?a.node.disabled=!1:a.node.disabled=!0);break;case i.StateOptions.showFinishPopup:this.popupFinish=new l.FinishPopup(t.node),a.node.style.display="block";break;case i.StateOptions.showSettings:this.popupSettings=new d.SettingsPopup(t.node),a.node.textContent=o.state.getLanguage()?"reset settings":"сбросить настройки",a.node.onclick=()=>this.showWarning(i.StateOptions.showSettings);break;case i.StateOptions.clearLocalStorage:this.popupResult.destroy(),this.popupResult=new u.ResultPopup(t.node),null!==h.lStorage.get("results")&&(h.lStorage.get("results").length>0?a.node.disabled=!1:a.node.disabled=!0);break;case i.StateOptions.showNewResult:this.popupResult.destroy(),this.popupResult=new u.ResultPopup(t.node);break;case i.StateOptions.warningResults:this.deleteResults();break;case i.StateOptions.warningSettings:this.resetSettings();break;case i.StateOptions.closePopup:o.state.onUpdate.remove(this.popupsListener);break;case i.StateOptions.changeLanguage:a.node.textContent=o.state.getLanguage()?"reset settings":"сбросить настройки",this.popupSettings.destroy(),this.popupSettings=new d.SettingsPopup(t.node)}},o.state.onUpdate.add(this.popupsListener)}showWarning(e){p.soundControl.playSound(c.SoundTypes.btn),o.state.showWarningPopup(e)}resetSettings(){o.state.resetSettings(),h.lStorage.remove("settings")}deleteResults(){o.state.clearResults()}onNewGameBtn(){o.state.setNewGame(),this.onDeletePopup(),p.soundControl.playSound(c.SoundTypes.collect)}onDeletePopup(){p.soundControl.playSound(c.SoundTypes.btn),o.state.closePopup()}}t.Popups=g},3350:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ResultPopup=void 0;const n=a(s(2158));s(8671);const o=s(8109),i=s(500),r=s(1815),l=s(3303),u=s(8760),d=s(3218);class h extends n.default{constructor(e){super(e,"div","popups_result"),this.ResultHtmlElements=[];const t=o.lStorage.get("results")||[];this.createTable(t),this.resultPopupListener=e=>{switch(e){case u.StateOptions.changeLanguage:this.switchLang(i.state.getLanguage());break;case u.StateOptions.closePopup:i.state.onUpdate.remove(this.resultPopupListener)}},this.switchLang(i.state.getLanguage()),i.state.onUpdate.add(this.resultPopupListener)}createTable(e){const t=new n.default(this.node,"table","popups_result_table"),s=new n.default(t.node,"thead","popups_result_thead"),a=new n.default(t.node,"tbody","popups_result_tbody"),o=new n.default(s.node,"tr","popups_result_title"),r=new n.default(o.node,"th","popups_result_title");r.node.colSpan=4,this.ResultHtmlElements.push(r.node);const l=i.state.getLanguage(),u=new n.default(a.node,"tr","popups_result_tr");new n.default(u.node,"td","popups_result_td",l?"Place":"Место"),new n.default(u.node,"td","popups_result_td",l?"Frame-size":"Размер поля"),new n.default(u.node,"td","popups_result_td",l?"Moves":"Ходы"),new n.default(u.node,"td","popups_result_td",l?"Time":"Время"),e.length>0?e.forEach(((e,t)=>{const s=new n.default(a.node,"tr","popups_result_tr");new n.default(s.node,"td","popups_result_td",`${t+1}`),new n.default(s.node,"td","popups_result_td",`${e.frameSize}`),new n.default(s.node,"td","popups_result_td",`${e.moves}`),new n.default(s.node,"td","popups_result_td",`${e.time}`),new n.default(s.node,"td","popups_result_delete").node.onclick=()=>this.deleteResult(t)})):new n.default(this.node,"th","popups_result_empty",l?"It's empty here for now":"Пока здесь пусто")}switchLang(e){this.ResultHtmlElements.forEach(((t,s)=>{t.textContent=`${(0,d.correctTranslater)(e,d.TList.results)[s]}`}))}deleteResult(e){l.soundControl.playSound(r.SoundTypes.delete),i.state.deleteTargetFromStorage(e)}}t.ResultPopup=h},2165:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPopup=t.LangType=t.SwitcherType=void 0;const n=a(s(2158)),o=s(500),i=s(8760);s(5643);const r=s(1944),l=s(8492);var u,d;!function(e){e.Theme="theme",e.Animation="animation",e.Language="language",e.Sound="sound",e.Mode="mode"}(u=t.SwitcherType||(t.SwitcherType={})),(d=t.LangType||(t.LangType={})).Ru="ru",d.En="en";class h extends n.default{constructor(e){super(e,"div","settings");const t=new n.default(this.node,"h2","settings_title",o.state.getLanguage()?"Settings":"Настройки"),s=new n.default(this.node,"div","settings_inner"),a=new n.default(s.node,"div","settings_left"),d=new n.default(s.node,"div","settings_right"),h=new r.Switcher(a.node,u.Theme),c=new r.Switcher(a.node,u.Animation),p=new r.Switcher(a.node,u.Language),g=new r.Switcher(d.node,u.Sound),m=new l.Volume(g.node),S=new r.Switcher(d.node,u.Mode);this.settingsPopupListener=e=>{switch(e){case i.StateOptions.changeTheme:h.changeTheme();break;case i.StateOptions.changeAnimation:c.changeAnimation();break;case i.StateOptions.changeSound:g.changeSound();break;case i.StateOptions.changeVolume:m.showChanges();break;case i.StateOptions.changeLanguage:p.changeLanguage(),o.state.onUpdate.remove(this.settingsPopupListener),t.node.textContent=o.state.getLanguage()?"Settings":"Настройки";break;case i.StateOptions.closePopup:o.state.onUpdate.remove(this.settingsPopupListener);break;case i.StateOptions.changeGameMode:S.changeGameMode();break;case i.StateOptions.resetSettings:m.setVolume(o.state.getVolume())}},o.state.onUpdate.add(this.settingsPopupListener)}}t.SettingsPopup=h},1944:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Switcher=void 0;const n=a(s(2158)),o=s(8109),i=s(500),r=s(1815),l=s(3303);s(9807);const u=s(2165),d=s(3218);class h extends n.default{constructor(e,t){super(e,"div","switcher"),this.type=t,this.settingsWords=d.TRANSLATE.settings[this.type],this.lang=i.state.getLanguage()?u.LangType.En:u.LangType.Ru,new n.default(this.node,"h3","switcher_title",this.settingsWords[this.lang].title);const s=new n.default(this.node,"div","switcher_inner"),a=new n.default(s.node,"label","switcher_switch"),o=new n.default(a.node,"input","switcher_checkbox");o.node.type="checkbox",o.node.onclick=()=>this.onChange(o.node.checked),this.input=o,new n.default(a.node,"span","switcher_slider");const r=new n.default(s.node,"p","switcher_value");this.switcherValue=r,this.initIdentifyStates(o.node)}changeTheme(){u.SwitcherType.Theme===this.type&&(l.soundControl.playSound(r.SoundTypes.input),i.state.getTheme()?this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1]:this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0])}changeAnimation(){u.SwitcherType.Animation===this.type&&(l.soundControl.playSound(r.SoundTypes.input),i.state.getAnimation()?this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0]:this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1])}changeLanguage(){u.SwitcherType.Language===this.type&&(l.soundControl.playSound(r.SoundTypes.input),i.state.getLanguage()?this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0]:this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1])}changeSound(){u.SwitcherType.Sound===this.type&&(i.state.getSound()?(this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0],this.input.node.checked=!0):(this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1],this.input.node.checked=!1))}changeGameMode(){u.SwitcherType.Mode===this.type&&(l.soundControl.playSound(r.SoundTypes.input),i.state.getGameMode()?(this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1],this.input.node.checked=!0):(this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0],this.input.node.checked=!1))}initIdentifyStates(e){this.type===u.SwitcherType.Theme&&(i.state.getTheme()?(e.checked=!0,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1]):(e.checked=!1,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0])),this.type===u.SwitcherType.Animation&&(i.state.getAnimation()?(e.checked=!0,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0]):(e.checked=!1,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1])),this.type===u.SwitcherType.Sound&&(i.state.getSound()?(e.checked=!0,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0]):(e.checked=!1,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1])),this.type===u.SwitcherType.Language&&(i.state.getLanguage()?(e.checked=!0,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0]):(e.checked=!1,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1])),this.type===u.SwitcherType.Mode&&(i.state.getGameMode()?(this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1],this.input.node.checked=!0):(this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0],this.input.node.checked=!1))}onChange(e){this.type===u.SwitcherType.Theme&&i.state.setTheme(e),this.type===u.SwitcherType.Animation&&i.state.setAnimation(e),this.type===u.SwitcherType.Sound&&(i.state.setSound(e),+i.state.getVolume()>0?i.state.setVolume("0"):i.state.setVolume(i.state.getLastVolume())),this.type===u.SwitcherType.Language&&i.state.setLanguage(e),this.type===u.SwitcherType.Mode&&i.state.setGameMode(e),o.lStorage.put("settings",i.state.getSettings())}}t.Switcher=h},8492:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Volume=void 0;const n=a(s(2158));s(2831);const o=a(s(4581)),i=a(s(9159)),r=s(500),l=s(8109),u=s(1815),d=s(3303);class h extends n.default{constructor(e){super(e,"div","volume");const t=new n.default(this.node,"img","volume_icon");t.node.alt="volume",t.node.src="0"===r.state.getVolume()?i.default:o.default,t.node.onclick=()=>this.onToggleVolume(),this.icon=t.node;const s=new n.default(this.node,"input","volume_input");s.node.type="range",s.node.style.background=`linear-gradient(to right, #ffa500 ${r.state.getVolume()}%, #ffa500 0%, #fff ${r.state.getVolume()}%, white 100%)`,s.node.value=r.state.getVolume(),s.node.oninput=()=>this.setVolume(s.node.value),s.node.onchange=()=>this.playSound(),this.input=s.node}playSound(){d.soundControl.playSound(u.SoundTypes.volume)}setVolume(e){r.state.setLastVolume(e),r.state.setVolume(e),l.lStorage.put("settings",r.state.getSettings()),this.showChanges()}showChanges(){const e=r.state.getVolume();this.input.value=e,this.input.style.background=`linear-gradient(to right, #ffa500 ${e}%, #ffa500 0%, #fff ${e}%, white 100%)`,0==+e?(this.icon.src=i.default,r.state.setSound(!1)):(this.icon.src=o.default,r.state.setSound(!0))}onToggleVolume(){d.soundControl.playSound(u.SoundTypes.btn);const e=r.state.getVolume();+e>0?(r.state.setLastVolume(e),r.state.setVolume("0")):r.state.setVolume(r.state.getLastVolume()),l.lStorage.put("settings",r.state.getSettings()),this.showChanges()}}t.Volume=h},1407:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WarningPopup=void 0;const n=a(s(2158)),o=s(500);s(6792);const i=s(1815),r=s(3303);class l extends n.default{constructor(e){super(e,"div","warning");const t=new n.default(this.node,"div","warning_inner");new n.default(t.node,"p","warning_text",o.state.getLanguage()?"Are you sure?":"Вы уверены?");const s=new n.default(t.node,"div","warning_btns");new n.default(s.node,"button","warning_btn",o.state.getLanguage()?"Yes":"Да").node.onclick=()=>this.onTrue(),new n.default(s.node,"button","warning_btn",o.state.getLanguage()?"No":"Нет").node.onclick=()=>this.onClosePopup()}onTrue(){r.soundControl.playSound(i.SoundTypes.btn),o.state.onClickWarning()}onClosePopup(){r.soundControl.playSound(i.SoundTypes.btn),o.state.closeWarningPopup()}}t.WarningPopup=l},530:(e,t,s)=>{e.exports=s.p+"assets/image/firework.gif"},3359:(e,t,s)=>{e.exports=s.p+"assets/image/main-bg-dark.jpg"},1751:(e,t,s)=>{e.exports=s.p+"assets/image/main-bg-light.jpg"},5434:(e,t,s)=>{e.exports=s.p+"assets/sound/btn.mp3"},4170:(e,t,s)=>{e.exports=s.p+"assets/sound/collect.mp3"},6822:(e,t,s)=>{e.exports=s.p+"assets/sound/delete.mp3"},5469:(e,t,s)=>{e.exports=s.p+"assets/sound/input.mp3"},9150:(e,t,s)=>{e.exports=s.p+"assets/sound/move.mp3"},4105:(e,t,s)=>{e.exports=s.p+"assets/sound/popup.mp3"},0:(e,t,s)=>{e.exports=s.p+"assets/sound/robo-win.mp3"},2197:(e,t,s)=>{e.exports=s.p+"assets/sound/volume.mp3"},5086:(e,t,s)=>{e.exports=s.p+"assets/sound/win.mp3"},9159:(e,t,s)=>{e.exports=s.p+"assets/svg/volume-off.svg"},4581:(e,t,s)=>{e.exports=s.p+"assets/svg/volume-on.svg"}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,s),o.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&!e;)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e+"../"})(),s(3303)})();