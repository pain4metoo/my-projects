(()=>{"use strict";var e={2977:(e,t,s)=>{s.r(t)},7933:(e,t,s)=>{s.r(t)},4336:(e,t,s)=>{s.r(t)},3478:(e,t,s)=>{s.r(t)},8736:(e,t,s)=>{s.r(t)},2830:(e,t,s)=>{s.r(t)},4580:(e,t,s)=>{s.r(t)},7313:(e,t,s)=>{s.r(t)},3384:(e,t,s)=>{s.r(t)},4913:(e,t,s)=>{s.r(t)},8671:(e,t,s)=>{s.r(t)},5643:(e,t,s)=>{s.r(t)},9807:(e,t,s)=>{s.r(t)},2831:(e,t,s)=>{s.r(t)},6792:(e,t,s)=>{s.r(t)},3303:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.soundControl=void 0;const a=s(500),n=s(915),o=s(1815);s(3218),s(2977),a.state.initLocalStorage(),new n.App(document.body),t.soundControl=new o.SoundControl},2158:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t="div",s="",a=""){const n=document.createElement(t);n.className=s,n.textContent=a,e&&e.append(n),this.node=n}destroy(){this.node.remove()}}},3218:(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.correctTranslater=t.TRANSLATE=t.TList=void 0,(s=t.TList||(t.TList={})).header="header",s.moves="moves",s.time="time",s.collect="collect",s.results="results",s.settings="settings",t.TRANSLATE={header:{restart:"рестарт",stop:"стоп",results:"результаты",settings:"настройки"},moves:{Moves:"Шаги"},time:{Time:"Время"},collect:{collect_puzzle:"собрать пятнашки"},results:{Your_Highest_Scores:"Лучшие результаты"},settings:{theme:{ru:{title:"Тема",values:["Светлая","Тёмная"]},en:{title:"Theme",values:["Light","Dark"]}},animation:{ru:{title:"Анимация",values:["Вкл","Выкл"]},en:{title:"Animation",values:["On","Off"]}},language:{ru:{title:"Язык",values:["EN","Русский"]},en:{title:"Language",values:["EN","Русский"]}},sound:{ru:{title:"Звук",values:["Вкл","Выкл"]},en:{title:"Sound",values:["On","Off"]}},mode:{ru:{title:"Сложность",values:["Легко","Экстрим"]},en:{title:"Mode",values:["Default","Extreme"]}}}},t.correctTranslater=function(e,s){const a=[];return e?(a.push(...Object.keys(t.TRANSLATE[s])),(n=a).join("").includes("_")?n.map((e=>e.split("").map(((e,t,s)=>"_"===s[t+1]?e+" ":e)).filter((e=>"_"!==e)).join(""))):n):(a.push(...Object.values(t.TRANSLATE[s])),a);var n}},8109:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.lStorage=void 0,t.lStorage=new class{put(e,t){localStorage.setItem(`gem${e}`,JSON.stringify(t))}get(e){const t=localStorage.getItem(`gem${e}`);return null!==t?JSON.parse(t):null}remove(e){localStorage.removeItem(`gem${e}`)}}},3583:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.listeners=[]}add(e){this.listeners.push(e)}remove(e){this.listeners=this.listeners.filter((t=>t!==e))}emit(e){this.listeners.forEach((t=>t(e)))}}},8760:(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.StateOptions=void 0,(s=t.StateOptions||(t.StateOptions={})).newGame="new-game",s.setMove="set-move",s.moveCounter="move-counter",s.stopGame="stop-game",s.startGame="start-game",s.changeSize="change-size",s.winGame="win-game",s.collectPuzzle="collect-puzzle",s.shuffleStart="shuffle-start",s.shuffleStop="shuffle-stop",s.collectBtnOn="collect-btn-on",s.collectBtnOff="collect-btn-off",s.createPopup="create-popup",s.showCollectPopup="show-collect-popup",s.showFinishPopup="show-finish-popup",s.showResultPopup="show-result-popup",s.closePopup="close-popup",s.collectStartTimer="collect-start-timer",s.collectStopTimer="collect-stop-timer",s.setCollectMoves="collect-moves",s.stopBtnEnable="stop-btn-enable",s.stopBtnDisable="stop btn-disable",s.deleteTargetFromStorage="delete-target-from-storage",s.clearLocalStorage="clear-all-local-storage",s.showNewResult="show-new-results",s.showSettings="show-settings",s.closeSettings="close-settings",s.changeTheme="change-theme",s.changeLanguage="change-language",s.changeSound="change-sound",s.changeAnimation="change-animation",s.changeVolume="change-volume",s.resetSettings="reset-settings",s.showWarningPopup="show-warning-popup",s.closeWarningPopup="close-warning-popup",s.warningResults="warning-results",s.warningSettings="warning-settings",s.blockField="block-field",s.unBlockField="unblock-field",s.openBurgerMenu="open-burger-menu",s.closeBurgerMenu="close-burger-menu",s.setGameAnimation="set-game-animation",s.removeGameAnimation="remove-game-animation",s.changeGameMode="change-game-mode",s.setEventKeyDown="set-event-key-down"},500:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.state=void 0;const n=s(8109),o=a(s(3583)),i=s(8760);t.state=new class{constructor(e){this.onUpdate=new o.default,this._data=e}setNewGame(){this._data.gameSettings.currentField=[],this._data.gameSettings.movesMade=[],this._data.gameSettings.moveCounter=0,this._data.gameSettings.isTimeRunning=!1,this._data.gameSettings.isStartGame=!1,this._data.gameSettings.isWin=!1,this._data.gameSettings.result.moves=0,this._data.gameSettings.result.time="00:00:00",this._data.gameSettings.isCollectStart=!1,this._data.gameSettings.isStartHardMode=!1,t.state.onUpdate.emit(i.StateOptions.newGame)}setGameField(e){this._data.gameSettings.currentField=e}getGameField(){return this._data.gameSettings.currentField}setMove(e){this._data.gameSettings.currentField=e,t.state.onUpdate.emit(i.StateOptions.setMove)}setFrameSize(e){this._data.gameSettings.frameSize=e,t.state.onUpdate.emit(i.StateOptions.changeSize)}getFrameSize(){return this._data.gameSettings.frameSize}setNewMove(e){this._data.gameSettings.movesMade.push(e)}getAllMoves(){return this._data.gameSettings.movesMade}setMoveCounter(){this._data.gameSettings.moveCounter++,t.state.onUpdate.emit(i.StateOptions.moveCounter)}getMoveCounter(){return this._data.gameSettings.moveCounter}setStartGame(){this._data.gameSettings.isStartGame=!0,t.state.onUpdate.emit(i.StateOptions.startGame)}setStopGame(){this._data.gameSettings.isStartGame=!1,t.state.onUpdate.emit(i.StateOptions.stopGame),t.state.onUpdate.emit(i.StateOptions.stopBtnDisable)}setToggleTimer(e){this._data.gameSettings.isTimeRunning=e}getToggleTimer(){return this._data.gameSettings.isTimeRunning}getStopStartGame(){return this._data.gameSettings.isStartGame}setWinGame(e){this._data.gameSettings.isWin=e,t.state.onUpdate.emit(i.StateOptions.winGame)}getIsWinGame(){return this._data.gameSettings.isWin}setResultMoves(e){this._data.gameSettings.result.moves=e}setResultTime(e){this._data.gameSettings.result.time=e}getResult(){return this._data.gameSettings.result}setCollectPuzzle(){t.state.onUpdate.emit(i.StateOptions.blockField),t.state.onUpdate.emit(i.StateOptions.collectPuzzle)}shuffleStart(){this._data.gameSettings.isShuffleStart=!0,t.state.onUpdate.emit(i.StateOptions.shuffleStart)}shuffleStop(){this._data.gameSettings.isShuffleStart=!1,t.state.onUpdate.emit(i.StateOptions.shuffleStop)}getStateShuffle(){return this._data.gameSettings.isShuffleStart}collectBtnDisable(){t.state.onUpdate.emit(i.StateOptions.collectBtnOn)}createPopup(){this._data.appSettings.isOpenPopup=!0,t.state.onUpdate.emit(i.StateOptions.createPopup)}showCollectPopup(){this._data.appSettings.isOpenPopup=!0,t.state.onUpdate.emit(i.StateOptions.showCollectPopup)}showFinishPopup(){this._data.appSettings.isOpenPopup=!0,t.state.onUpdate.emit(i.StateOptions.showFinishPopup)}showResultPopup(){this._data.appSettings.isOpenPopup=!0,t.state.onUpdate.emit(i.StateOptions.showResultPopup)}closePopup(){this._data.appSettings.isOpenPopup=!1,t.state.onUpdate.emit(i.StateOptions.closePopup)}startCollectTimer(){t.state.onUpdate.emit(i.StateOptions.collectStartTimer)}stopCollectTimer(){t.state.onUpdate.emit(i.StateOptions.collectStopTimer)}setCollectTimer(e){this._data.gameSettings.result.collectTime=e}getCollectTimer(){return this._data.gameSettings.result.collectTime}setCollectMoves(){this._data.gameSettings.result.collectMoves++,t.state.onUpdate.emit(i.StateOptions.setCollectMoves)}getCollectMoves(){return this._data.gameSettings.result.collectMoves}clearCollectMoves(){this._data.gameSettings.result.collectMoves=0}stopBtnEnable(){t.state.onUpdate.emit(i.StateOptions.stopBtnEnable)}stopBtnDisable(){t.state.onUpdate.emit(i.StateOptions.stopBtnDisable)}setCollectState(e){this._data.gameSettings.isCollectStart=e}getCollectState(){return this._data.gameSettings.isCollectStart}clearResults(){t.state.onUpdate.emit(i.StateOptions.clearLocalStorage)}deleteTargetFromStorage(e){this._data.gameSettings.deleteTarget=e,t.state.onUpdate.emit(i.StateOptions.deleteTargetFromStorage),t.state.onUpdate.emit(i.StateOptions.showNewResult)}getDeleteTargetFromStorage(){return this._data.gameSettings.deleteTarget}openSettings(){this._data.appSettings.isOpenPopup=!0,t.state.onUpdate.emit(i.StateOptions.showSettings)}getSettings(){return this._data.appSettings}setTheme(e){this._data.appSettings.theme=e,t.state.onUpdate.emit(i.StateOptions.changeTheme)}getTheme(){return this._data.appSettings.theme}setAnimation(e){this._data.appSettings.animation=e,t.state.onUpdate.emit(i.StateOptions.changeAnimation)}getAnimation(){return this._data.appSettings.animation}setSound(e){this._data.appSettings.stateSound=e,t.state.onUpdate.emit(i.StateOptions.changeSound)}getSound(){return this._data.appSettings.stateSound}setLanguage(e){this._data.appSettings.language=e,t.state.onUpdate.emit(i.StateOptions.changeLanguage)}getLanguage(){return this._data.appSettings.language}setVolume(e){this._data.appSettings.volume=e,t.state.onUpdate.emit(i.StateOptions.changeVolume)}getVolume(){return this._data.appSettings.volume}setLastVolume(e){this._data.appSettings.lastVolume=e}getLastVolume(){return this._data.appSettings.lastVolume}setGameMode(e){this._data.appSettings.hardMode=e,t.state.onUpdate.emit(i.StateOptions.changeGameMode)}getGameMode(){return this._data.appSettings.hardMode}setStartGameMode(e){this._data.gameSettings.isStartHardMode=e}getStartGameMode(){return this._data.gameSettings.isStartHardMode}resetSettings(){this._data.appSettings.animation=!0,this._data.appSettings.volume="30",this._data.appSettings.stateSound=!0,this._data.appSettings.theme=!1,this._data.appSettings.language=!0,this._data.appSettings.hardMode=!1,this._data.appSettings.isOpenPopup=!1,t.state.onUpdate.emit(i.StateOptions.changeTheme),t.state.onUpdate.emit(i.StateOptions.changeLanguage),t.state.onUpdate.emit(i.StateOptions.resetSettings),t.state.onUpdate.emit(i.StateOptions.closePopup)}initLocalStorage(){try{const e=n.lStorage.get("gemsettings");this._data.appSettings.animation=e.animation,this._data.appSettings.language=e.language,this._data.appSettings.lastVolume=e.lastVolume,this._data.appSettings.stateSound=e.stateSound,this._data.appSettings.theme=e.theme,this._data.appSettings.volume=e.volume,this._data.appSettings.hardMode=e.hardMode}catch(e){return}}showWarningPopup(e){this._data.warningType=e,t.state.onUpdate.emit(i.StateOptions.showWarningPopup)}closeWarningPopup(){t.state.onUpdate.emit(i.StateOptions.closeWarningPopup)}warningDeleteResult(){t.state.onUpdate.emit(i.StateOptions.warningResults)}warningDeleteSettings(){t.state.onUpdate.emit(i.StateOptions.warningSettings)}onClickWarning(){this._data.warningType===i.StateOptions.showResultPopup?this.warningDeleteResult():this._data.warningType===i.StateOptions.showSettings&&this.warningDeleteSettings(),this.closeWarningPopup()}openBurgerMenu(){this._data.appSettings.isOpenPopup=!0,t.state.onUpdate.emit(i.StateOptions.openBurgerMenu)}closeBurgerMenu(){t.state.onUpdate.emit(i.StateOptions.closeBurgerMenu)}getPopupState(){return this._data.appSettings.isOpenPopup}setGameAnimation(){t.state.onUpdate.emit(i.StateOptions.setGameAnimation)}removeGameAnimation(){t.state.onUpdate.emit(i.StateOptions.removeGameAnimation)}setEventKeyDown(e){this._data.gameSettings.lastKeyDownCode=e,t.state.onUpdate.emit(i.StateOptions.setEventKeyDown)}getEventKeyDown(){return this._data.gameSettings.lastKeyDownCode}setStopGameBtn(e){this._data.gameSettings.isStopGameBtn=e}getStopGameBtn(){return this._data.gameSettings.isStopGameBtn}}({gameSettings:{frameSize:4,currentField:[],movesMade:[],moveCounter:0,isStartGame:!1,isStopGameBtn:!1,isTimeRunning:!1,isWin:!1,isCollectStart:!1,isShuffleStart:!1,deleteTarget:-1,isStartHardMode:!1,lastKeyDownCode:null,result:{moves:0,time:"00:00:00",collectTime:"00:00:00",collectMoves:0},results:[]},appSettings:{volume:"30",lastVolume:"30",stateSound:!0,theme:!1,language:!0,animation:!0,hardMode:!1,isOpenPopup:!1},warningType:null})},915:function(e,t,s){var a=this&&this.__awaiter||function(e,t,s,a){return new(s||(s=Promise))((function(n,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function r(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,r)}l((a=a.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.App=t.EventCode=void 0;const o=n(s(2158)),i=s(500),r=s(8760),l=s(6601),d=s(6398),h=s(9973),u=n(s(1751)),c=n(s(9307)),m=n(s(3359)),g=n(s(1562)),p=n(s(530)),_=n(s(322));var S;!function(e){e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight"}(S=t.EventCode||(t.EventCode={}));class v extends o.default{constructor(e){super(e,"div","wrapper"),this.bgIMG=new Image,this.createBG(e),new d.Header(this.node);const t=new h.Main(this.node);new l.Footer(this.node),this.changeFontFamily(i.state.getLanguage(),e),this.keysControl(e),this.appListener=s=>{switch(s){case r.StateOptions.changeLanguage:this.changeFontFamily(i.state.getLanguage(),e);break;case r.StateOptions.winGame:i.state.getAnimation()&&(this.fireWork=new o.default(t.node,"img","firework"),i.state.getTheme()?this.fireWork.node.src=_.default:this.fireWork.node.src=p.default);break;case r.StateOptions.closePopup:this.fireWork&&this.fireWork.destroy(),this.keysControl(e);break;case r.StateOptions.changeTheme:this.createBG(e);break;case r.StateOptions.createPopup:this.keysControl(e)}},i.state.onUpdate.add(this.appListener)}keysControl(e){i.state.getPopupState()?e.onkeydown=()=>!1:e.onkeydown=e=>{switch(e.code){case S.ArrowDown:e.preventDefault(),i.state.setEventKeyDown(S.ArrowDown);break;case S.ArrowLeft:e.preventDefault(),i.state.setEventKeyDown(S.ArrowLeft);break;case S.ArrowUp:e.preventDefault(),i.state.setEventKeyDown(S.ArrowUp);break;case S.ArrowRight:e.preventDefault(),i.state.setEventKeyDown(S.ArrowRight)}}}createBG(e){i.state.getTheme()?(e.style.backgroundImage=`url(${g.default})`,this.bgIMG.src=m.default,this.bgIMG.onload=()=>a(this,void 0,void 0,(function*(){e.style.backgroundImage=`url(${this.bgIMG.src})`}))):(e.style.backgroundImage=`url(${c.default})`,this.bgIMG.src=u.default,this.bgIMG.onload=()=>a(this,void 0,void 0,(function*(){e.style.backgroundImage=`url(${this.bgIMG.src})`})))}changeFontFamily(e,t){t.style.fontFamily=e?"'Thasadith', sans-serif":"'Inter', sans-serif"}}t.App=v},6601:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;const n=a(s(2158)),o=s(500),i=s(8760);s(7933);class r extends n.default{constructor(e){super(e,"footer","footer");const t=new n.default(this.node,"p","footer_year","2023"),s=new n.default(this.node,"a","footer_link","pain4metoo");s.node.href="https://github.com/pain4metoo",s.node.target="blank",this.changeTheme(o.state.getTheme(),t.node,s.node),this.footerListener=e=>{e===i.StateOptions.changeTheme&&this.changeTheme(o.state.getTheme(),t.node,s.node)},o.state.onUpdate.add(this.footerListener)}changeTheme(e,t,s){e?(t.classList.add("footer_year_dark"),s.classList.add("footer_link_dark")):(t.classList.remove("footer_year_dark"),s.classList.remove("footer_link_dark"))}}t.Footer=r},6398:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;const n=a(s(2158)),o=s(500),i=s(8760),r=s(1815),l=s(3303);var d;s(4336),function(e){e.Restart="restart",e.Stop="stop",e.Results="results",e.Settings="settings"}(d||(d={}));class h extends n.default{constructor(e){super(e,"header","header"),this.navItems=["restart","stop","results","settings"],this.navItemsHtmlElements=[];const t=new n.default(this.node,"nav","header_nav"),s=new n.default(t.node,"ul","header_list"),a=new n.default(t.node,"button","header_mobile_btn",o.state.getLanguage()?"stop":"стоп");a.node.onclick=()=>{l.soundControl.playSound(r.SoundTypes.btn),o.state.setStopGame(),o.state.setStopGameBtn(!0),this.changeThemeActive(o.state.getTheme(),!0,this.navItemsHtmlElements[1],a.node)};const h=new n.default(t.node,"div","header_burger"),u=new n.default(h.node,"div","header_burger_item"),c=new n.default(h.node,"div","header_burger_item");h.node.onclick=()=>{l.soundControl.playSound(r.SoundTypes.btn),this.openBurgerMenu(s.node,u.node,c.node)},this.navItems.forEach((e=>{const t=new n.default(s.node,"li","header_list_item"),i=new n.default(t.node,"button","header_item_btn");switch(this.navItemsHtmlElements.push(i.node),e){case d.Restart:i.node.textContent=o.state.getLanguage()?"restart":"рестарт",t.node.onclick=()=>{l.soundControl.playSound(r.SoundTypes.collect),o.state.setNewGame(),this.closeBurgerMenu(s.node,u.node,c.node),o.state.closeBurgerMenu(),this.changeThemeActive(o.state.getTheme(),!0,i.node)};break;case d.Stop:i.node.textContent=o.state.getLanguage()?"stop":"стоп",i.node.disabled=!0,t.node.onclick=()=>{l.soundControl.playSound(r.SoundTypes.btn),o.state.setStopGame(),o.state.setStopGameBtn(!0),i.node.disabled=!0,this.changeThemeActive(o.state.getTheme(),!0,i.node,a.node)};break;case d.Results:i.node.textContent=o.state.getLanguage()?"results":"результаты",t.node.onclick=()=>{l.soundControl.playSound(r.SoundTypes.popup),this.showResultPopup(),this.closeBurgerMenu(s.node,u.node,c.node),o.state.closeBurgerMenu(),this.changeThemeActive(o.state.getTheme(),!0,i.node)};break;case d.Settings:i.node.textContent=o.state.getLanguage()?"settings":"настройки",t.node.onclick=()=>{l.soundControl.playSound(r.SoundTypes.popup),this.showSettings(),this.closeBurgerMenu(s.node,u.node,c.node),o.state.closeBurgerMenu(),this.changeThemeActive(o.state.getTheme(),!0,i.node)}}})),this.changeTheme(o.state.getTheme(),a.node,u.node,c.node),this.headerListener=e=>{switch(e){case i.StateOptions.startGame:this.changeStateStopBtn(a.node,!1);break;case i.StateOptions.stopBtnEnable:this.changeStateStopBtn(a.node,!1),this.changeThemeActive(o.state.getTheme(),!1,this.navItemsHtmlElements[1],a.node);break;case i.StateOptions.stopBtnDisable:this.changeStateStopBtn(a.node,!0);break;case i.StateOptions.shuffleStart:this.changeStateButtons(!0),this.changeStateStopBtn(a.node,!0),this.changeThemeActive(o.state.getTheme(),!1,this.navItemsHtmlElements[1],a.node),this.changeThemeActive(o.state.getTheme(),!0,this.navItemsHtmlElements[0]);break;case i.StateOptions.shuffleStop:this.changeStateButtons(!1),this.changeThemeActive(o.state.getTheme(),!1,this.navItemsHtmlElements[0]);break;case i.StateOptions.closePopup:this.changeThemeActive(o.state.getTheme(),!1,this.navItemsHtmlElements[2]),this.changeThemeActive(o.state.getTheme(),!1,this.navItemsHtmlElements[3]);break;case i.StateOptions.changeLanguage:this.changeLanguage(a.node);break;case i.StateOptions.changeTheme:this.changeTheme(o.state.getTheme(),a.node,u.node,c.node),o.state.getPopupState()?this.changeThemeActive(o.state.getTheme(),!0,this.navItemsHtmlElements[3]):this.changeThemeActive(o.state.getTheme(),!1,this.navItemsHtmlElements[3]),o.state.getStopGameBtn()?this.changeThemeActive(o.state.getTheme(),!0,this.navItemsHtmlElements[1],a.node):this.changeThemeActive(o.state.getTheme(),!1,this.navItemsHtmlElements[1],a.node)}},o.state.onUpdate.add(this.headerListener)}changeThemeActive(e,t,s,a){t?e?(s.classList.add("header_item_btn_active_dark"),s.classList.remove("header_item_btn_active"),a&&(a.classList.add("header_mobile_btn_active_dark"),a.classList.remove("header_mobile_btn_active"))):(s.classList.remove("header_item_btn_active_dark"),s.classList.add("header_item_btn_active"),a&&(a.classList.add("header_mobile_btn_active"),a.classList.remove("header_mobile_btn_active_dark"))):(s.classList.remove("header_item_btn_active_dark"),s.classList.remove("header_item_btn_active"),a&&(a.classList.remove("header_mobile_btn_active_dark"),a.classList.remove("header_mobile_btn_active")))}changeTheme(e,t,s,a){e?(t.classList.add("header_item_btn_dark"),s.classList.add("header_burger_item_dark"),a.classList.add("header_burger_item_dark")):(t.classList.remove("header_item_btn_dark"),s.classList.remove("header_burger_item_dark"),a.classList.remove("header_burger_item_dark")),this.navItemsHtmlElements.forEach((t=>{e?t.classList.add("header_item_btn_dark"):t.classList.remove("header_item_btn_dark")}))}changeStateStopBtn(e,t){t?(this.navItemsHtmlElements[1].disabled=!0,e.disabled=!0):(this.navItemsHtmlElements[1].disabled=!1,e.disabled=!1)}showSettings(){o.state.createPopup(),o.state.openSettings()}showResultPopup(){o.state.createPopup(),o.state.showResultPopup()}openBurgerMenu(e,t,s){t.classList.toggle("header_burger_item_rotate"),s.classList.toggle("header_burger_item_rotate"),t.classList.contains("header_burger_item_rotate")?(e.classList.add("header_list_show"),o.state.openBurgerMenu()):(e.classList.remove("header_list_show"),o.state.closeBurgerMenu())}closeBurgerMenu(e,t,s){t.classList.remove("header_burger_item_rotate"),s.classList.remove("header_burger_item_rotate"),e.classList.remove("header_list_show")}changeStateButtons(e){this.navItemsHtmlElements.forEach(((t,s)=>{1!==s&&(t.disabled=!!e)}))}changeLanguage(e){o.state.getLanguage()?this.navItems.forEach(((t,s)=>{this.navItemsHtmlElements[s].textContent=t,e.textContent="stop"})):(this.navItemsHtmlElements[0].textContent="рестарт",this.navItemsHtmlElements[1].textContent="стоп",this.navItemsHtmlElements[2].textContent="результаты",this.navItemsHtmlElements[3].textContent="настройки",e.textContent="стоп")}}t.Header=h},6832:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Counter=void 0;const n=a(s(2158)),o=s(9396),i=s(7790);s(3478);class r extends n.default{constructor(e){super(e,"section","main_counters"),new o.Moves(this.node),new i.Timer(this.node)}}t.Counter=r},9396:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Moves=void 0;const n=a(s(2158)),o=s(3218),i=s(500),r=s(8760);class l extends n.default{constructor(e){super(e,"div","main_counters_block_left");const t=new n.default(this.node,"div","main_counters_moves"),s=new n.default(t.node,"p","main_counters_text main_counters_txt","Moves: "),a=new n.default(t.node,"p","main_counters_number main_counters_txt","0");this.changeTheme(i.state.getTheme(),s.node,a.node),i.state.onUpdate.add((e=>{switch(e){case r.StateOptions.moveCounter:this.makeMove(a.node);break;case r.StateOptions.newGame:a.node.textContent="0";break;case r.StateOptions.winGame:i.state.setResultMoves(Number(a.node.textContent));break;case r.StateOptions.setCollectMoves:a.node.textContent=`${i.state.getMoveCounter()+i.state.getCollectMoves()}`;break;case r.StateOptions.changeLanguage:this.switchLang(i.state.getLanguage(),s.node);break;case r.StateOptions.changeTheme:this.changeTheme(i.state.getTheme(),s.node,a.node)}})),this.switchLang(i.state.getLanguage(),s.node)}changeTheme(e,t,s){e?(t.classList.add("main_counters_txt_dark"),s.classList.add("main_counters_txt_dark")):(t.classList.remove("main_counters_txt_dark"),s.classList.remove("main_counters_txt_dark"))}switchLang(e,t){t.textContent=`${(0,o.correctTranslater)(e,o.TList.moves)[0]}: `}makeMove(e){e.textContent=`${i.state.getMoveCounter()}`}}t.Moves=l},7790:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;const n=a(s(2158)),o=s(3218),i=s(500),r=s(8760);class l extends n.default{constructor(e){super(e,"div","main_counters_block_right"),this.sec=0,this.min=0,this.hour=0,this.collectSec=1;const t=new n.default(this.node,"p","main_counters_time_text main_counters_txt","Time: "),s=new n.default(this.node,"p","main_counters_time_number main_counters_txt","00:00:00");this.timeNodeHtml=s.node,this.changeTheme(i.state.getTheme(),t.node,s.node),i.state.onUpdate.add((e=>{switch(e){case r.StateOptions.startGame:this.setTimer(i.state.getStopStartGame(),i.state.getToggleTimer());break;case r.StateOptions.stopGame:setTimeout((()=>{this.stopTimer(i.state.getStopStartGame(),i.state.getToggleTimer())}),1e3);break;case r.StateOptions.newGame:s.node.textContent="00:00:00",this.newGame();break;case r.StateOptions.winGame:s.node.textContent&&i.state.setResultTime(s.node.textContent);break;case r.StateOptions.collectStartTimer:this.setTimer(i.state.getStopStartGame(),i.state.getToggleTimer()),this.setCollectGameTimer();break;case r.StateOptions.collectStopTimer:this.stopTimer(i.state.getStopStartGame(),i.state.getToggleTimer()),this.stopCollectGameTimer();break;case r.StateOptions.changeLanguage:this.switchLang(i.state.getLanguage(),t.node);break;case r.StateOptions.changeTheme:this.changeTheme(i.state.getTheme(),t.node,s.node)}})),this.switchLang(i.state.getLanguage(),t.node)}changeTheme(e,t,s){e?(t.classList.add("main_counters_txt_dark"),s.classList.add("main_counters_txt_dark")):(t.classList.remove("main_counters_txt_dark"),s.classList.remove("main_counters_txt_dark"))}switchLang(e,t){t.textContent=`${(0,o.correctTranslater)(e,o.TList.time)[0]}: `}setCollectGameTimer(){const e=window.setInterval((()=>this.collectSec++),1e3);this.collectTimer=e}stopCollectGameTimer(){i.state.setCollectTimer(String(this.collectSec)),clearInterval(this.collectTimer),this.collectSec=0}newGame(){this.sec=0,this.min=0,this.hour=0,clearInterval(this.currentTimer)}setTimer(e,t){if(e&&!t){const e=window.setInterval((()=>this.newTimer()),1e3);this.currentTimer=e,i.state.setToggleTimer(!0)}}stopTimer(e,t){!e&&t&&(clearInterval(this.currentTimer),i.state.setToggleTimer(!1))}newTimer(){this.sec++,this.sec>=60&&(this.min++,this.sec=this.sec-60),this.min>=60&&(this.hour++,this.min=this.min-60),this.sec<10?this.min<10?this.hour<10?this.timeNodeHtml.textContent=`0${this.hour}:0${this.min}:0${this.sec}`:this.timeNodeHtml.textContent=`${this.hour}:0${this.min}:0${this.sec}`:this.hour<10?this.timeNodeHtml.textContent=`0${this.hour}:${this.min}:0${this.sec}`:this.timeNodeHtml.textContent=`${this.hour}:${this.min}:0${this.sec}`:this.min<10?this.hour<10?this.timeNodeHtml.textContent=`0${this.hour}:0${this.min}:${this.sec}`:this.timeNodeHtml.textContent=`${this.hour}:0${this.min}:${this.sec}`:this.hour<10?this.timeNodeHtml.textContent=`0${this.hour}:${this.min}:${this.sec}`:this.timeNodeHtml.textContent=`${this.hour}:${this.min}:${this.sec}`}}t.Timer=l},138:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FrameSize=void 0;const n=a(s(2158)),o=s(500),i=s(8760),r=s(1815),l=s(3303),d=s(3218);s(8736);class h extends n.default{constructor(e){super(e,"section","main_frame"),this.otherSize=["3x3","4x4","5x5","6x6","7x7","8x8"],this.otherSizeHtml=[];const t=new n.default(this.node,"button","main_frame_btn","collect puzzle");t.node.onclick=()=>{o.state.getTheme()?(t.node.classList.add("main_frame_btn_active_dark"),t.node.classList.remove("main_frame_btn_active")):(t.node.classList.add("main_frame_btn_active"),t.node.classList.remove("main_frame_btn_active_dark")),o.state.setCollectPuzzle()},t.node.disabled=!0;const s=new n.default(this.node,"div","main_frame_other");this.otherSize.forEach((e=>{const t=new n.default(s.node,"button","main_frame_other_size",`${e}`);t.node.disabled=!0,t.node.onclick=()=>this.setNewFrameSize(Number(e[0])),this.otherSizeHtml.push(t.node)})),this.changeTheme(o.state.getTheme(),t.node),this.changeThemeActive(o.state.getTheme()),o.state.onUpdate.add((e=>{switch(e){case i.StateOptions.changeSize:this.changeThemeActive(o.state.getTheme());break;case i.StateOptions.shuffleStart:t.node.disabled=!0,this.changeBtnSizeState(!0);break;case i.StateOptions.shuffleStop:t.node.disabled=!1,this.changeBtnSizeState(!1),o.state.getTheme()?t.node.classList.remove("main_frame_btn_active_dark"):t.node.classList.remove("main_frame_btn_active");break;case i.StateOptions.collectBtnOn:t.node.disabled=!0;break;case i.StateOptions.collectBtnOff:t.node.disabled=!1;break;case i.StateOptions.winGame:t.node.disabled=!0;break;case i.StateOptions.changeLanguage:this.switchLang(o.state.getLanguage(),t.node);break;case i.StateOptions.changeTheme:this.changeTheme(o.state.getTheme(),t.node),this.changeThemeActive(o.state.getTheme())}})),this.switchLang(o.state.getLanguage(),t.node)}changeThemeActive(e){this.otherSizeHtml.forEach(((t,s)=>{o.state.getFrameSize()===Number(this.otherSize[s][0])?e?(t.classList.add("main_frame_other_size_active_dark"),t.classList.remove("main_frame_other_size_active")):(t.classList.add("main_frame_other_size_active"),t.classList.remove("main_frame_other_size_active_dark")):(t.classList.remove("main_frame_other_size_active_dark"),t.classList.remove("main_frame_other_size_active"))}))}changeTheme(e,t){this.otherSizeHtml.forEach((t=>{e?t.classList.add("main_frame_other_size_dark"):t.classList.remove("main_frame_other_size_dark")})),e?t.classList.add("main_frame_btn_dark"):t.classList.remove("main_frame_btn_dark")}switchLang(e,t){t.textContent=`${(0,d.correctTranslater)(e,d.TList.collect)[0]}`}setNewFrameSize(e){o.state.setFrameSize(e),o.state.setNewGame(),l.soundControl.playSound(r.SoundTypes.collect)}changeBtnSizeState(e){this.otherSizeHtml.forEach((t=>{t.disabled=!!e}))}}t.FrameSize=h},3221:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const n=a(s(2158)),o=s(500),i=s(8760),r=s(8109),l=s(1372),d=s(1815),h=s(3303);s(2830);class u extends n.default{constructor(e){super(e,"div","main_game_container"),this.gameSquareHTML=[],this.results=r.lStorage.get("gemresults")||[],this.queueEL=[],this.queueFontSize=[],this.gameListener=e=>{switch(e){case i.StateOptions.newGame:o.state.onUpdate.remove(this.gameListener),this.removeExtremeMode();break;case i.StateOptions.winGame:this.removeExtremeMode(),o.state.getIsWinGame()?this.node.classList.add("main_game_over"):this.node.classList.remove("main_game_over");break;case i.StateOptions.collectPuzzle:this.removeExtremeMode(),this.collectPazzle();break;case i.StateOptions.clearLocalStorage:this.deleteResult();break;case i.StateOptions.deleteTargetFromStorage:this.deleteResult(o.state.getDeleteTargetFromStorage());break;case i.StateOptions.setMove:this.isExtremeMode();break;case i.StateOptions.changeGameMode:o.state.getGameMode()||this.removeExtremeMode();break;case i.StateOptions.stopGame:this.removeExtremeMode(!0);break;case i.StateOptions.startGame:o.state.setStopGameBtn(!1),this.isExtremeMode();break;case i.StateOptions.resetSettings:o.state.getGameMode()||this.removeExtremeMode();break;case i.StateOptions.setEventKeyDown:this.handlerKeyDown();break;case i.StateOptions.changeTheme:this.changeTheme(o.state.getTheme())}},o.state.onUpdate.add(this.gameListener),this.createGame(),this.changeTheme(o.state.getTheme())}createGame(){l.GenerateMatrix.generateMatrix(o.state.getFrameSize()),this.createElementsHTML(),this.shuffleCycle()}createElementsHTML(){const e=o.state.getFrameSize(),t=o.state.getGameField().flat();this.node.classList.add(`main_game_container_${e}x${e}`);for(let s=0;s<e*e;s++){const a=new n.default(this.node,"div","main_game_square",`${t[s]}`);a.node.classList.add(`main_game_square_${e}x${e}`),this.gameSquareHTML.push(a.node),a.node.onclick=()=>this.moveByClick(Number(a.node.textContent))}}shuffleCycle(){const e=this.getRandomShuffleCount();let t=0;o.state.shuffleStart(),o.state.startCollectTimer(),this.changeStateGameField(!0),o.state.setGameAnimation();const s=setInterval((()=>{this.singleStrokeCycle(),t===e&&(clearInterval(s),this.changeStateGameField(!1),h.soundControl.pauseSound(),o.state.stopCollectTimer(),o.state.removeGameAnimation(),o.state.shuffleStop(),this.handlerDragAndDrop(o.state.getGameField().flat())),t++}),0)}getRandomShuffleCount(){return[300,500,700,900,1100,1300][o.state.getFrameSize()-3]+Math.ceil(100*Math.random())}singleStrokeCycle(){const e=this.availableMoves(o.state.getGameField()),t=this.getRandomMove(e);this.makeMove(o.state.getGameField(),t,e.emptySquare,!1)}availableMoves(e){const t={axisXLeft:[],axisXRight:[],axisYTop:[],axisYBottom:[],emptySquare:[]};for(let s=0;s<e.length;s++)for(let a=0;a<e[s].length;a++)if(0===e[s][a])return t.emptySquare=[s,a],e[s][a-1]&&(t.axisXLeft=[s,a-1,e[s][a-1]]),e[s][a+1]&&(t.axisXRight=[s,a+1,e[s][a+1]]),e[s-1]&&e[s-1][a]&&(t.axisYTop=[s-1,a,e[s-1][a]]),e[s+1]&&e[s+1][a]&&(t.axisYBottom=[s+1,a,e[s+1][a]]),t;return t}getRandomMove(e){const t=Object.values(e).reduce(((e,t,s,a)=>(s!==a.length-1&&t.length>0&&e.push(t),e)),[]),s=o.state.getAllMoves()[o.state.getAllMoves().length-1][2],a=t.filter((e=>e[2]!==s));return a[Math.ceil(Math.random()*a.length)-1]}isExtremeMode(){o.state.getGameMode()&&!o.state.getStartGameMode()?(o.state.setStartGameMode(!0),this.onExtremeMode()):o.state.getGameMode()||(o.state.setStartGameMode(!1),this.removeExtremeMode())}removeExtremeMode(e){clearInterval(this.intervalExtremeMode),o.state.setStartGameMode(!1),e||this.queueEL.forEach(((e,t)=>{e.style.fontSize=`${this.queueFontSize[t]}`}))}onExtremeMode(){const e=window.setInterval((()=>this.extremeMode()),500);this.intervalExtremeMode=e}extremeMode(){const e=o.state.getFrameSize(),t=Math.ceil(Math.random()*this.gameSquareHTML.length)-1;if(this.queueEL.includes(this.gameSquareHTML[t])){for(let e=0;e<this.gameSquareHTML.length;e++)if(!this.queueEL.includes(this.gameSquareHTML[e])){this.queueEL.push(this.gameSquareHTML[e]),this.queueFontSize.push(window.getComputedStyle(this.gameSquareHTML[e]).fontSize),this.gameSquareHTML[e].style.fontSize="0";break}}else this.queueEL.push(this.gameSquareHTML[t]),this.queueFontSize.push(window.getComputedStyle(this.gameSquareHTML[t]).fontSize),this.gameSquareHTML[t].style.fontSize="0";if(this.queueEL.length>[3,6,9,12,15,18][e-3]){const e=this.queueEL.shift(),t=this.queueFontSize.shift();e&&(e.style.fontSize=`${t}`)}}makeMove(e,t,s,a){return[e[t[0]][t[1]],e[s[0]][s[1]]]=[e[s[0]][s[1]],e[t[0]][t[1]]],a||o.state.getAllMoves().push(t),o.state.setGameField(e),this.shuffleElementsHTML(),e}shuffleElementsHTML(){const e=o.state.getGameField().flat();this.gameSquareHTML.forEach(((t,s)=>{0===e[s]?(t.textContent="",t.classList.add("main_game_square_empty")):(t.textContent=String(e[s]),t.classList.remove("main_game_square_empty"))}))}handlerKeyDown(){const e=o.state.getEventKeyDown(),t=Object.values(this.availableMoves(o.state.getGameField())),s=t.slice(0,t.length-1),a={ArrowRight:0,ArrowLeft:1,ArrowDown:2,ArrowUp:3};e&&(!s[a[e]][2]||o.state.getPopupState()||o.state.getCollectState()||o.state.getStateShuffle()||o.state.getIsWinGame()||this.moveByClick(s[a[e]][2]))}handlerDragAndDrop(e){const t=Object.values(this.availableMoves(o.state.getGameField())).map(((e,t)=>!!(t<=3&&e[2])&&e[2])).filter((e=>e));e.forEach(((s,a)=>{0===s&&(this.gameSquareHTML[a].ondragover=e=>{e.preventDefault()},this.gameSquareHTML[a].ondrop=e=>{var t;const s=null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("id");this.moveByClick(Number(s))}),t.includes(s)?(this.gameSquareHTML[a].ondragover=e=>{e.stopImmediatePropagation()},this.gameSquareHTML[a].draggable=!0,this.gameSquareHTML[a].ondragstart=t=>{var s;null===(s=t.dataTransfer)||void 0===s||s.setData("id",String(e[a]))}):this.gameSquareHTML[a].draggable=!1}))}collectPazzle(){o.state.shuffleStart(),o.state.setStartGame(),o.state.setCollectState(!0),o.state.stopBtnDisable(),h.soundControl.playSound(d.SoundTypes.collect),this.changeStateGameField(!0);const e=setInterval((()=>{const t=this.availableMoves(o.state.getGameField()).emptySquare,s=o.state.getAllMoves().splice(-1)[0];this.makeMove(o.state.getGameField(),s,t,!0),o.state.setCollectMoves(),0===o.state.getAllMoves().length&&(this.changeStateGameField(!1),h.soundControl.pauseSound(),o.state.setCollectState(!1),o.state.clearCollectMoves(),clearInterval(e),o.state.shuffleStop(),o.state.collectBtnDisable(),o.state.setWinGame(!0),this.showCollectResult(),h.soundControl.playSound(d.SoundTypes.roboWin))}),1)}moveByClick(e){Object.values(this.availableMoves(o.state.getGameField())).forEach((t=>{t[2]===e&&(this.makeMove(o.state.getGameField(),t,this.availableMoves(o.state.getGameField()).emptySquare,!1),this.setMoveInState(o.state.getGameField()),this.handlerDragAndDrop(o.state.getGameField().flat()))}))}setMoveInState(e){o.state.setMove(e),o.state.setMoveCounter(),o.state.setStartGame(),o.state.stopBtnEnable(),this.isWin()?(o.state.setWinGame(!0),this.showFinishResult(),this.setInLocalStorage(),h.soundControl.playSound(d.SoundTypes.win)):h.soundControl.playSound(d.SoundTypes.move)}setInLocalStorage(){const e={frameSize:o.state.getFrameSize(),moves:o.state.getResult().moves,time:o.state.getResult().time};if(this.results.includes(e))return;this.results.push(Object.assign({},e));const t=this.sortValue(this.results);t.length>10&&t.splice(t.length-1,1),r.lStorage.put("gemresults",this.results)}deleteResult(e){0===e||e?this.results.splice(e,1):this.results.splice(0),r.lStorage.put("gemresults",this.results)}sortValue(e){return e.sort(((e,t)=>{if(e.frameSize!==t.frameSize)return t.frameSize-e.frameSize;if(e.moves!==t.moves)return e.moves-t.moves;{const s=e.time.split(":").map((e=>+e)),a=t.time.split(":").map((e=>+e));return s[0]!==a[0]?s[0]-a[0]:s[1]!==a[1]?s[1]-a[1]:s[2]-a[2]}}))}isWin(){const e=o.state.getGameField().flat();for(let t=0;t<e.length;t++)if(l.GenerateMatrix.finishResult[t]!==e[t])return!1;return!0}showFinishResult(){o.state.createPopup(),o.state.setStopGame(),o.state.showFinishPopup()}showCollectResult(){o.state.createPopup(),o.state.setStopGame(),o.state.showCollectPopup()}changeStateGameField(e){e?this.node.classList.add("main_game_over"):this.node.classList.remove("main_game_over")}changeTheme(e){this.gameSquareHTML.forEach((t=>{e?(this.node.classList.add("main_game_container_dark"),t.classList.add("main_game_square_dark")):(this.node.classList.remove("main_game_container_dark"),t.classList.remove("main_game_square_dark"))}))}}t.Game=u},1372:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenerateMatrix=void 0;const a=s(500);class n{static generateMatrix(e){const t=[],s=Math.pow(e,2);for(let e=0;e<s;e++)t.push(e);const n=t.splice(0,1);t[t.length]=n[0];const o=[];for(;t.length;)o.push(t.splice(0,e));this.finishResult=o.slice().flat(),a.state.setGameField(o),this.determineDefaultZeroPosition()}static determineDefaultZeroPosition(){const e=a.state.getGameField();for(let t=0;t<e.length;t++)for(let s=0;s<e[t].length;s++)if(0===e[t][s])return void a.state.setNewMove([t,s,0])}}t.GenerateMatrix=n,n.finishResult=[]},1815:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SoundControl=t.SoundTypes=void 0;const n=s(500),o=s(8760),i=a(s(9150)),r=a(s(4170)),l=a(s(5086)),d=a(s(5434)),h=a(s(5469)),u=a(s(2197)),c=a(s(6822)),m=a(s(0)),g=a(s(4105));var p;!function(e){e.move="move",e.collect="collect",e.win="win",e.btn="btn",e.input="input",e.volume="volume",e.delete="delete",e.roboWin="robo-win",e.popup="popup"}(p=t.SoundTypes||(t.SoundTypes={})),t.SoundControl=class{constructor(){this.isSafari=!1,this.sound=new Audio,this.sound.volume=Number(n.state.getVolume())/100,-1!==navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?this.isSafari=!0:this.isSafari=!1,this.soundListener=e=>{e===o.StateOptions.changeVolume&&(this.sound.volume=Number(n.state.getVolume())/100)},n.state.onUpdate.add(this.soundListener)}playSound(e){switch(e){case p.move:this.sound.src=i.default;break;case p.win:this.sound.src=l.default;break;case p.collect:this.sound.src=r.default;break;case p.btn:this.sound.src=d.default;break;case p.input:this.sound.src=h.default;break;case p.volume:this.sound.src=u.default;break;case p.delete:this.sound.src=c.default;break;case p.roboWin:this.sound.src=m.default;break;case p.popup:this.sound.src=g.default}this.play()}play(){this.isSafari?this.sound.play():this.sound.oncanplay=()=>{this.sound.play()}}pauseSound(){this.sound.pause()}}},9973:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;const n=a(s(2158)),o=s(500),i=s(8760),r=s(6832),l=s(138),d=s(3221);s(4580);const h=s(9830),u=s(1407);class c extends n.default{constructor(e){super(e,"main","main"),this.mainListener=e=>{switch(e){case i.StateOptions.setGameAnimation:o.state.getAnimation()?this.changeAnimation(o.state.getTheme(),!0,t.node):this.changeAnimation(o.state.getTheme(),!1,t.node);break;case i.StateOptions.removeGameAnimation:this.changeAnimation(o.state.getTheme(),!1,t.node);break;case i.StateOptions.newGame:s.destroy(),s=new d.Game(t.node);break;case i.StateOptions.createPopup:this.mainPopups=new h.Popups(this.node);break;case i.StateOptions.closePopup:this.mainPopups.destroy();break;case i.StateOptions.showWarningPopup:this.warningPopup=new u.WarningPopup(this.node);break;case i.StateOptions.closeWarningPopup:this.warningPopup.destroy();break;case i.StateOptions.openBurgerMenu:this.node.style.zIndex="-1";break;case i.StateOptions.closeBurgerMenu:this.node.style.zIndex="2",this.node.style.position="inherit";break;case i.StateOptions.collectPuzzle:this.changeAnimation(o.state.getTheme(),!0,t.node);break;case i.StateOptions.shuffleStop:this.changeAnimation(o.state.getTheme(),!1,t.node)}},o.state.onUpdate.add(this.mainListener),new r.Counter(this.node);const t=new n.default(this.node,"section","main_game");let s=new d.Game(t.node);new l.FrameSize(this.node)}changeAnimation(e,t,s){t?e?(s.classList.add("main_game_animation_dark"),s.classList.remove("main_game_animation")):(s.classList.add("main_game_animation"),s.classList.remove("main_game_animation_dark")):(s.classList.remove("main_game_animation_dark"),s.classList.remove("main_game_animation"))}}t.Main=c},398:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CollectPopup=void 0;const n=a(s(2158)),o=s(500);s(7313);class i extends n.default{constructor(e){super(e,"div","popups_collect"),o.state.getTheme()?this.node.classList.add("popups_collect_dark"):this.node.classList.remove("popups_collect_dark"),new n.default(this.node,"h2","popups_collect_title",o.state.getLanguage()?"Puzzle assembled automatically":"Пятнашки собраны автоматически");const t=new n.default(this.node,"div","popups_collect_info");new n.default(t.node,"h4","popups_collect_time",o.state.getLanguage()?`Auto build time: ${o.state.getCollectTimer()}s`:`Время сборки: ${o.state.getCollectTimer()}c`),new n.default(t.node,"h2","popups_collect_total_time",o.state.getLanguage()?`Game time: ${o.state.getResult().time}`:`Игровое время: ${o.state.getResult().time}`),new n.default(t.node,"h2","popups_collect_moves",o.state.getLanguage()?`Total moves: ${o.state.getResult().moves+o.state.getCollectMoves()}`:`Всего ходов: ${o.state.getResult().moves+o.state.getCollectMoves()}`)}}t.CollectPopup=i},9942:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FinishPopup=void 0;const n=a(s(2158));s(3384);const o=s(500);class i extends n.default{constructor(e){super(e,"div","popups_finish"),o.state.getTheme()?this.node.classList.add("popups_finish_dark"):this.node.classList.remove("popups_finish_dark"),new n.default(this.node,"h2","popups_finish_title",o.state.getLanguage()?"Hooray! You have completed the puzzle!":"Ура! Вы собрали пятнашки!");const t=new n.default(this.node,"div","popups_collect_info");new n.default(t.node,"h4","popups_finish_time",o.state.getLanguage()?`Game time: ${o.state.getResult().time}`:`Время игры: ${o.state.getResult().time}`),new n.default(t.node,"h4","popups_finish_moves",o.state.getLanguage()?`Total moves: ${o.state.getResult().moves+o.state.getCollectMoves()}`:`Всего ходов: ${o.state.getResult().moves+o.state.getCollectMoves()}`)}}t.FinishPopup=i},9830:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Popups=void 0;const n=a(s(2158)),o=s(500),i=s(8760),r=s(398),l=s(9942),d=s(3350);s(4913);const h=s(2165),u=s(8109),c=s(1815),m=s(3303);class g extends n.default{constructor(e){super(e,"div","popups");const t=new n.default(this.node,"div","popups_inner"),s=new n.default(t.node,"button","popups_close_btn"),a=new n.default(t.node,"button","popups_new_btn",o.state.getLanguage()?"restart":"новая игра");a.node.onclick=()=>this.onNewGameBtn(),s.node.onclick=()=>this.onDeletePopup(),this.changeTheme(o.state.getTheme(),a.node,t.node),this.popupsListener=e=>{switch(e){case i.StateOptions.showCollectPopup:this.popupCollect=new r.CollectPopup(t.node),a.node.style.display="block";break;case i.StateOptions.showResultPopup:this.popupResult=new d.ResultPopup(t.node),a.node.textContent=o.state.getLanguage()?"delete all results":"очистить результаты",a.node.onclick=()=>this.showWarning(i.StateOptions.showResultPopup),null!==u.lStorage.get("gemresults")&&u.lStorage.get("gemresults").length>0?a.node.disabled=!1:a.node.disabled=!0;break;case i.StateOptions.deleteTargetFromStorage:null!==u.lStorage.get("gemresults")&&(u.lStorage.get("gemresults").length>0?a.node.disabled=!1:a.node.disabled=!0);break;case i.StateOptions.showFinishPopup:this.popupFinish=new l.FinishPopup(t.node),a.node.style.display="block";break;case i.StateOptions.showSettings:this.popupSettings=new h.SettingsPopup(t.node),a.node.textContent=o.state.getLanguage()?"reset settings":"сбросить настройки",a.node.onclick=()=>this.showWarning(i.StateOptions.showSettings);break;case i.StateOptions.clearLocalStorage:this.popupResult.destroy(),this.popupResult=new d.ResultPopup(t.node),null!==u.lStorage.get("gemresults")&&(u.lStorage.get("gemresults").length>0?a.node.disabled=!1:a.node.disabled=!0);break;case i.StateOptions.showNewResult:this.popupResult.destroy(),this.popupResult=new d.ResultPopup(t.node);break;case i.StateOptions.warningResults:this.deleteResults();break;case i.StateOptions.warningSettings:this.resetSettings();break;case i.StateOptions.closePopup:o.state.onUpdate.remove(this.popupsListener);break;case i.StateOptions.changeLanguage:a.node.textContent=o.state.getLanguage()?"reset settings":"сбросить настройки",this.popupSettings.destroy(),this.popupSettings=new h.SettingsPopup(t.node);break;case i.StateOptions.changeTheme:this.changeTheme(o.state.getTheme(),a.node,t.node)}},o.state.onUpdate.add(this.popupsListener)}changeTheme(e,t,s){e?(t.classList.add("popups_new_btn_dark"),s.classList.add("popups_inner_dark")):(t.classList.remove("popups_new_btn_dark"),s.classList.remove("popups_inner_dark"))}showWarning(e){m.soundControl.playSound(c.SoundTypes.btn),o.state.showWarningPopup(e)}resetSettings(){o.state.resetSettings(),u.lStorage.remove("gemsettings")}deleteResults(){o.state.clearResults()}onNewGameBtn(){o.state.setNewGame(),this.onDeletePopup(),m.soundControl.playSound(c.SoundTypes.collect)}onDeletePopup(){m.soundControl.playSound(c.SoundTypes.btn),o.state.closePopup()}}t.Popups=g},3350:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ResultPopup=void 0;const n=a(s(2158));s(8671);const o=s(8109),i=s(500),r=s(1815),l=s(3303),d=s(8760),h=s(3218);class u extends n.default{constructor(e){super(e,"div","popups_result"),this.ResultHtmlElements=[],this.tableElements=[];const t=o.lStorage.get("gemresults")||[];this.createTable(t),this.changeTheme(i.state.getTheme(),this.tableElements),this.resultPopupListener=e=>{switch(e){case d.StateOptions.changeLanguage:this.switchLang(i.state.getLanguage());break;case d.StateOptions.closePopup:i.state.onUpdate.remove(this.resultPopupListener);break;case d.StateOptions.changeTheme:this.changeTheme(i.state.getTheme(),this.tableElements)}},this.switchLang(i.state.getLanguage()),i.state.onUpdate.add(this.resultPopupListener)}changeTheme(e,t){t.forEach((t=>{e?t.classList.add("popups_result_dark_theme"):t.classList.remove("popups_result_dark_theme")}))}createTable(e){const t=new n.default(this.node,"table","popups_result_table"),s=new n.default(t.node,"thead","popups_result_thead");this.tableElements.push(s.node);const a=new n.default(t.node,"tbody","popups_result_tbody"),o=new n.default(s.node,"tr","popups_result_title"),r=new n.default(o.node,"th","popups_result_title");r.node.colSpan=4,this.tableElements.push(r.node),this.ResultHtmlElements.push(r.node);const l=i.state.getLanguage(),d=new n.default(a.node,"tr","popups_result_tr");if(this.tableElements.push(d.node),new n.default(d.node,"td","popups_result_td",l?"Place":"Место"),new n.default(d.node,"td","popups_result_td",l?"Frame-size":"Размер поля"),new n.default(d.node,"td","popups_result_td",l?"Moves":"Ходы"),new n.default(d.node,"td","popups_result_td",l?"Time":"Время"),e.length>0)e.forEach(((e,t)=>{const s=new n.default(a.node,"tr","popups_result_tr");this.tableElements.push(s.node),new n.default(s.node,"td","popups_result_td",`${t+1}`),new n.default(s.node,"td","popups_result_td",`${e.frameSize}`),new n.default(s.node,"td","popups_result_td",`${e.moves}`),new n.default(s.node,"td","popups_result_td",`${e.time}`),new n.default(s.node,"td","popups_result_delete").node.onclick=()=>this.deleteResult(t)}));else{const e=new n.default(this.node,"th","popups_result_empty",l?"It's empty here for now":"Пока здесь пусто");this.tableElements.push(e.node)}}switchLang(e){this.ResultHtmlElements.forEach(((t,s)=>{t.textContent=`${(0,h.correctTranslater)(e,h.TList.results)[s]}`}))}deleteResult(e){l.soundControl.playSound(r.SoundTypes.delete),i.state.deleteTargetFromStorage(e)}}t.ResultPopup=u},2165:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPopup=t.LangType=t.SwitcherType=void 0;const n=a(s(2158)),o=s(500),i=s(8760);s(5643);const r=s(1944),l=s(8492);var d,h;!function(e){e.Theme="theme",e.Animation="animation",e.Language="language",e.Sound="sound",e.Mode="mode"}(d=t.SwitcherType||(t.SwitcherType={})),(h=t.LangType||(t.LangType={})).Ru="ru",h.En="en";class u extends n.default{constructor(e){super(e,"div","settings"),this.isSafari=!1,-1!==navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?this.isSafari=!0:this.isSafari=!1;const t=new n.default(this.node,"h2","settings_title",o.state.getLanguage()?"Settings":"Настройки"),s=new n.default(this.node,"div","settings_inner"),a=new n.default(s.node,"div","settings_left"),h=new n.default(s.node,"div","settings_right"),u=new r.Switcher(a.node,d.Theme),c=new r.Switcher(a.node,d.Animation),m=new r.Switcher(a.node,d.Language),g=new r.Switcher(h.node,d.Sound),p=new l.Volume(g.node);this.isSafari&&(g.destroy(),p.destroy());const _=new r.Switcher(h.node,d.Mode);this.changeTheme(o.state.getTheme(),t.node),this.settingsPopupListener=e=>{switch(e){case i.StateOptions.changeTheme:u.changeTheme(),c.changeTheme(),m.changeTheme(),g.changeTheme(),_.changeTheme(),p.changeTheme(),this.changeTheme(o.state.getTheme(),t.node);break;case i.StateOptions.changeAnimation:c.changeAnimation();break;case i.StateOptions.changeSound:g.changeSound();break;case i.StateOptions.changeVolume:p.showChanges();break;case i.StateOptions.changeLanguage:m.changeLanguage(),o.state.onUpdate.remove(this.settingsPopupListener),t.node.textContent=o.state.getLanguage()?"Settings":"Настройки";break;case i.StateOptions.closePopup:o.state.onUpdate.remove(this.settingsPopupListener);break;case i.StateOptions.changeGameMode:_.changeGameMode();break;case i.StateOptions.resetSettings:p.setVolume(o.state.getVolume())}},o.state.onUpdate.add(this.settingsPopupListener)}changeTheme(e,t){e?t.classList.add("settings_title_dark"):t.classList.remove("settings_title_dark")}}t.SettingsPopup=u},1944:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Switcher=void 0;const n=a(s(2158)),o=s(8109),i=s(500),r=s(1815),l=s(3303);s(9807);const d=s(2165),h=s(3218);class u extends n.default{constructor(e,t){super(e,"div","switcher"),this.type=t,this.settingsWords=h.TRANSLATE.settings[this.type],this.lang=i.state.getLanguage()?d.LangType.En:d.LangType.Ru;const s=new n.default(this.node,"h3","switcher_title",this.settingsWords[this.lang].title);this.switcherTitle=s.node;const a=new n.default(this.node,"div","switcher_inner"),o=new n.default(a.node,"label","switcher_switch"),r=new n.default(o.node,"input","switcher_checkbox");r.node.type="checkbox",r.node.onclick=()=>this.onChange(r.node.checked),this.input=r;const l=new n.default(o.node,"span","switcher_slider");this.switcherSlider=l;const u=new n.default(a.node,"p","switcher_value");this.switcherValue=u,this.initIdentifyStates(r.node)}changeThemeStyle(e){e?(this.switcherValue.node.classList.add("switcher_value_dark"),this.switcherTitle.classList.add("switcher_title_dark"),this.switcherSlider.node.classList.add("switcher_slider_dark")):(this.switcherValue.node.classList.remove("switcher_value_dark"),this.switcherTitle.classList.remove("switcher_title_dark"),this.switcherSlider.node.classList.remove("switcher_slider_dark"))}changeTheme(){this.changeThemeStyle(i.state.getTheme()),d.SwitcherType.Theme===this.type&&(l.soundControl.playSound(r.SoundTypes.input),i.state.getTheme()?this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1]:this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0])}changeAnimation(){d.SwitcherType.Animation===this.type&&(l.soundControl.playSound(r.SoundTypes.input),i.state.getAnimation()?this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0]:this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1])}changeLanguage(){d.SwitcherType.Language===this.type&&(l.soundControl.playSound(r.SoundTypes.input),i.state.getLanguage()?this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0]:this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1])}changeSound(){d.SwitcherType.Sound===this.type&&(i.state.getSound()?(this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0],this.input.node.checked=!0):(this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1],this.input.node.checked=!1))}changeGameMode(){d.SwitcherType.Mode===this.type&&(l.soundControl.playSound(r.SoundTypes.input),i.state.getGameMode()?(this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1],this.input.node.checked=!0):(this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0],this.input.node.checked=!1))}initIdentifyStates(e){this.changeThemeStyle(i.state.getTheme()),this.type===d.SwitcherType.Theme&&(i.state.getTheme()?(e.checked=!0,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1]):(e.checked=!1,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0])),this.type===d.SwitcherType.Animation&&(i.state.getAnimation()?(e.checked=!0,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0]):(e.checked=!1,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1])),this.type===d.SwitcherType.Sound&&(i.state.getSound()?(e.checked=!0,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0]):(e.checked=!1,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1])),this.type===d.SwitcherType.Language&&(i.state.getLanguage()?(e.checked=!0,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0]):(e.checked=!1,this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1])),this.type===d.SwitcherType.Mode&&(i.state.getGameMode()?(this.switcherValue.node.textContent=this.settingsWords[this.lang].values[1],this.input.node.checked=!0):(this.switcherValue.node.textContent=this.settingsWords[this.lang].values[0],this.input.node.checked=!1))}onChange(e){this.type===d.SwitcherType.Theme&&i.state.setTheme(e),this.type===d.SwitcherType.Animation&&i.state.setAnimation(e),this.type===d.SwitcherType.Sound&&(i.state.setSound(e),+i.state.getVolume()>0?i.state.setVolume("0"):i.state.setVolume(i.state.getLastVolume())),this.type===d.SwitcherType.Language&&i.state.setLanguage(e),this.type===d.SwitcherType.Mode&&i.state.setGameMode(e),o.lStorage.put("gemsettings",i.state.getSettings())}}t.Switcher=u},8492:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Volume=void 0;const n=a(s(2158));s(2831);const o=a(s(4581)),i=a(s(9159)),r=s(500),l=s(8109),d=s(1815),h=s(3303);class u extends n.default{constructor(e){super(e,"div","volume");const t=new n.default(this.node,"img","volume_icon");t.node.alt="volume",t.node.src="0"===r.state.getVolume()?i.default:o.default,t.node.onclick=()=>this.onToggleVolume(),this.icon=t.node;const s=new n.default(this.node,"input","volume_input");s.node.type="range",s.node.value=r.state.getVolume(),s.node.oninput=()=>this.setVolume(s.node.value),s.node.onchange=()=>this.playSound(),this.input=s.node,this.changeTheme()}changeTheme(){r.state.getTheme()?this.input.style.background=`linear-gradient(to right, rgb(51, 103, 133) ${r.state.getVolume()}%, rgb(255 255 255) 0${r.state.getVolume()}%, rgb(255, 255, 255) 19%, white 100%)`:this.input.style.background=`linear-gradient(to right, #ffa500 ${r.state.getVolume()}%, #ffa500 0%, #fff ${r.state.getVolume()}%, white 100%)`}playSound(){h.soundControl.playSound(d.SoundTypes.volume)}setVolume(e){r.state.setLastVolume(e),r.state.setVolume(e),l.lStorage.put("gemsettings",r.state.getSettings()),this.showChanges()}showChanges(){const e=r.state.getVolume();this.input.value=e,r.state.getTheme()?this.input.style.background=`linear-gradient(to right, rgb(51, 103, 133) ${r.state.getVolume()}%, rgb(255 255 255) 0${r.state.getVolume()}%, rgb(255, 255, 255) 19%, white 100%)`:this.input.style.background=`linear-gradient(to right, #ffa500 ${e}%, #ffa500 0%, #fff ${e}%, white 100%)`,0==+e?(this.icon.src=i.default,r.state.setSound(!1)):(this.icon.src=o.default,r.state.setSound(!0))}onToggleVolume(){h.soundControl.playSound(d.SoundTypes.btn);const e=r.state.getVolume();+e>0?(r.state.setLastVolume(e),r.state.setVolume("0")):r.state.setVolume(r.state.getLastVolume()),l.lStorage.put("gemsettings",r.state.getSettings()),this.showChanges()}}t.Volume=u},1407:function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WarningPopup=void 0;const n=a(s(2158)),o=s(500);s(6792);const i=s(1815),r=s(3303),l=s(8760);class d extends n.default{constructor(e){super(e,"div","warning");const t=new n.default(this.node,"div","warning_inner"),s=new n.default(t.node,"p","warning_text",o.state.getLanguage()?"Are you sure?":"Вы уверены?"),a=new n.default(t.node,"div","warning_btns"),i=new n.default(a.node,"button","warning_btn",o.state.getLanguage()?"Yes":"Да");i.node.onclick=()=>this.onTrue();const r=new n.default(a.node,"button","warning_btn",o.state.getLanguage()?"No":"Нет");r.node.onclick=()=>this.onClosePopup(),this.changeTheme(o.state.getTheme(),t.node,s.node,i.node,r.node),this.warningListener=e=>{switch(e){case l.StateOptions.changeTheme:this.changeTheme(o.state.getTheme(),t.node,s.node,i.node,r.node);break;case l.StateOptions.closeWarningPopup:o.state.onUpdate.remove(this.warningListener)}},o.state.onUpdate.add(this.warningListener)}changeTheme(e,t,s,a,n){e?(t.classList.add("warning_inner_dark"),s.classList.add("warning_text_dark"),a.classList.add("warning_btn_dark"),n.classList.add("warning_btn_dark")):(t.classList.remove("warning_inner_dark"),s.classList.remove("warning_text_dark"),a.classList.remove("warning_btn_dark"),n.classList.remove("warning_btn_dark"))}onTrue(){r.soundControl.playSound(i.SoundTypes.btn),o.state.onClickWarning()}onClosePopup(){r.soundControl.playSound(i.SoundTypes.btn),o.state.closeWarningPopup()}}t.WarningPopup=d},322:(e,t,s)=>{e.exports=s.p+"assets/image/firework-dark.gif"},530:(e,t,s)=>{e.exports=s.p+"assets/image/firework.gif"},1562:(e,t,s)=>{e.exports=s.p+"assets/image/main-bg-dark-preload.jpg"},3359:(e,t,s)=>{e.exports=s.p+"assets/image/main-bg-dark.jpg"},9307:(e,t,s)=>{e.exports=s.p+"assets/image/main-bg-light-preload.jpg"},1751:(e,t,s)=>{e.exports=s.p+"assets/image/main-bg-light.jpg"},5434:(e,t,s)=>{e.exports=s.p+"assets/sound/btn.mp3"},4170:(e,t,s)=>{e.exports=s.p+"assets/sound/collect.mp3"},6822:(e,t,s)=>{e.exports=s.p+"assets/sound/delete.mp3"},5469:(e,t,s)=>{e.exports=s.p+"assets/sound/input.mp3"},9150:(e,t,s)=>{e.exports=s.p+"assets/sound/move.mp3"},4105:(e,t,s)=>{e.exports=s.p+"assets/sound/popup.mp3"},0:(e,t,s)=>{e.exports=s.p+"assets/sound/robo-win.mp3"},2197:(e,t,s)=>{e.exports=s.p+"assets/sound/volume.mp3"},5086:(e,t,s)=>{e.exports=s.p+"assets/sound/win.mp3"},9159:(e,t,s)=>{e.exports=s.p+"assets/svg/volume-off.svg"},4581:(e,t,s)=>{e.exports=s.p+"assets/svg/volume-on.svg"}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,s),o.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&!e;)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e+"../"})(),s(3303)})();